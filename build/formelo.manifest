{"icon_url":"","status":"live","reference_code":"kf9HzoSg-8d72-11e6-8e46-bbec5ba9c49f","user_group":[],"description":"Food2Fork is a place to find top socially ranked recipes from tons of recipe blogs and websites.","scope":"public","name":"Food2Fork","id":"dafef3a7","parameters":{"is_submittable":true},"mode":"dynamic","root":"index","pages":[{"layout":"<!DOCTYPE html>\n<html>\n<head>\n\t<script src=\"https:\/\/code.jquery.com\/jquery-3.1.1.js\"><\/script>\n\t<meta charset=\"utf-8\">\n\t<title><\/title>\n<\/head>\n<body>\n\t<div class=\"container_fluid\" style=\"background-color:black; min-height: 1000px; min-width: 1000px\">\n<!-- \t\t<h1 id=\"next\">Food2Fork<\/h1>\n -->\t\t<button type=\"button\" class=\"btn btn-primary\" id=\"next\" style=\"width: 200px; margin-top: 270px;\n    margin-left: 100px;\n    \">Food2Fork<\/button>\n\n\t<\/div>\n<\/body>\n\n<\/html>","css":"main{\n\tbackground-color: red;\n}","name":"index","key":"index","events":{"ready":"(function(){\n    'use strict';\n    var foodProvider = formelo.require(\"FoodProvider\");\n    formelo.event().onCreate(function(){\n        \/\/ Entry point of this application\n        \/\/ var _data = foodProvider.search(data);\n        \/\/ alert(_data);\n\n        $(\"#next\").click(function(){\n            formelo.navigation().openActivity(\"search\");\n        })\n\n    });\n\n    formelo.event().onIntent(function(params){\n        var data = params.detail;\n        \/\/ Receive parameters from calling page\n    });\n\n    formelo.event().onClose(function(){\n        \/\/ Override close button\n        \/\/ formelo.navigation.stopPropagation()\n    });\n}());"}},{"layout":"<!DOCTYPE html>\n<html>\n<head>\n\t<script src=\"https:\/\/code.jquery.com\/jquery-3.1.1.js\"><\/script>\n\t<meta charset=\"utf-8\">\n\t<title><\/title>\n<\/head>\n<body>\n<!--   <button id=\"button\">Food2Fork<\/button>\n -->\t<div class=\"container grups\">\n\t\t<div class=\"row\">\n\t\t\t<h1 class=\"headval\">Search for Recipes<\/h1>\n\t\t\t<div id=\"custom-search-input\">\n\t\t\t\t<div class=\"input-group col-md-12\" id=\"recipe\">\n\t\t\t\t\t<input type=\"text\" class=\"  search-query form-control\" placeholder=\"search by name or ingredients\" id=\"value\"\/>\n\t\t\t\t\t<span class=\"input-group-btn\" id=\"search\">\n\t\t\t\t\t\t<button class=\"btn btn-danger\" type=\"button\">\n\t\t\t\t\t\t\t<i class=\"fa fa-search\" aria-hidden=\"true\"><\/i>\n\t\t\t\t\t\t<\/button>\n\t\t\t\t\t<\/span>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t<\/div>\n\t\t<div id=\"search-results\">\n\t<\/div>\n\t\n\t<\/div>\n<\/body>\n\n<\/html>","css":".headval{\n\tcolor:#fff;\n\tfont-weight: 50px;\n}\n\n\/* O V E R R I D E   P A G E  *\/\n.applet-page {\n\/*    background-color: black;\n*\/}\n\n\/* O V E R R I D E   H E A D E R   *\/\n.applet-header {\n    background-color: blue !important;\n    border: none;\n}\n.applet-header-title {\n    color: white;\n    font-weight: 50px;\n\/*    margin-top: -5px;\n*\/\/*    height: 50px;\n*\/\/*    border-radius: 5px;\n*\/}\n.applet-header-nav {\n    color: green !important;\n}\n\n\/* O V E R R I D E   B O D Y   *\/\n.applet-body {\n   background-image: url(http:\/\/cdn.wallpapersafari.com\/48\/19\/YqPwXN.jpeg);\n   padding: 35px;\n   background-repeat: no-repeat;\n   background-color: #cccccc; \n   background-size:cover; \n   width: 100%;\n   height:100vh;\n}\n\n\/* O V E R R I D E   F O O T E R   *\/\n.applet-footer {\n    background-color: #ccc !important;\n\/*    border-color: black !important;\n*\/}\n.applet-footer-inactive {\n    font-weight: 400 !important;\n    background-color: black !important;;\n    color: white !important;\n    border: none !important;\n}\n.applet-footer-active {\n    font-weight: 400 !important;\n    border: none !important;\n    border-top: 2px solid red !important;\n    background-color: black !important;\n    color: white !important;\n}","name":"search","key":"search","events":{"ready":"(function(){\n    'use strict';\n\n    var foodProvider = formelo.require(\"FoodProvider\");\n    formelo.event().onCreate(function(){\n               customise();\n\n        var title = formelo.html().getActionBar();\n        \n        $(\".search-query\").on('keyup', function(){\n            var val = $(this).val();\n            if (val.length > 3) {\n                searchValue(val);\n            }\n        });\n       \n    });\n\n    formelo.event().onIntent(function(params){\n        var data = params.detail;\n        \/\/ Receive parameters from calling page\n    });\n\n    formelo.event().onClose(function(){\n        \/\/ Override close button\n        \/\/ formelo.navigation.stopPropagation()\n    });\n    function searchValue(val){        \n            var data = {\n                q : val\n            }\n        foodProvider.search(data, function(result){\n            var res = JSON.parse(result);\n            console.log(res);\n            showResult(res.recipes);\n        },function(error){\n            alert(error);\n        });\n\n    }\n    function showResult (_data){\n        var formattedData = [];\n        _data.forEach(function(item){\n            formattedData.push({\n                image : item.image_url,\n                name : item.title,\n                description : item.publisher,\n                unique : item.recipe_id\n            })\n        });\n        formelo.ui().gridAdapter(formattedData, '#search-results').attach(function(unique){\n            formelo.navigation().openActivity(\"Recipe\", {recipe_id : unique});\n            console.log(unique);\n            \n        });\n    }\n    function customise(){\n        formelo.html().get.header.title().html(\"Recipes\");\n}\n}());"}},{"layout":"<html>\n<head>\n\t<title><\/title>\n<\/head>\n<body>\n\t<div class=\"container try\">\n\t\t <div id=\"third\" ><\/div>\n\n\t<\/div>\n\n\t<div id=\"second\"><\/div>\n<\/body>\n<\/html>","css":"* O V E R R I D E   C S S   S T Y L E S  *\/\n\n\/* O V E R R I D E   P A G E  *\/\n.applet-page {\n    background-color: black;\n}\n\n\/* O V E R R I D E   H E A D E R   *\/\n.applet-header {\n    background-color: blue !important;\n    border: none;\n}\n.applet-header-title {\n    color: white;\n    font-weight: 50px;\n\/*    margin-top: -5px;\n*\/\/*    height: 50px;\n*\/\/*    border-radius: 5px;\n*\/}\n.applet-header-nav {\n    color: green !important;\n}\n\n\/* O V E R R I D E   B O D Y   *\/\n.applet-body {\n\/*    background-color: #ccc;\n*\/    margin-top: -5px;\n    width: 100%;\n    height:100vh;\n}\n\n\/* O V E R R I D E   F O O T E R   *\/\n.applet-footer {\n    background-color: #ccc !important;\n\/*    border-color: black !important;\n*\/}\n.applet-footer-inactive {\n    font-weight: 400 !important;\n    background-color: black !important;;\n    color: white !important;\n    border: none !important;\n}\n.applet-footer-active {\n    font-weight: 400 !important;\n    border: none !important;\n    border-top: 2px solid red !important;\n    background-color: black !important;\n    color: white !important;\n}\n.try{\n\n}","name":"Recipe","key":"Recipe","events":{"ready":"(function(){\n    'use strict';\n\n    var recipeID = null;\n    var foodProvider = formelo.require(\"FoodProvider\");\n    formelo.event().onIntent(function(params){\n        recipeID = params.detail.recipe_id;\n    });\n\n    formelo.event().onCreate(function(){\n       recipeIDValue(recipeID);      \n       console.log(recipeID);\n       customise();\n\n    });\n\n    formelo.event().onClose(function(){\n        \/\/ Override close button\n        \/\/ formelo.navigation.stopPropagation()\n    });\n    function recipeIDValue(res_id){        \n        var data = {\n            rId : res_id\n        }\n        var bluk;\n        foodProvider.getRecipeByID(data, function(result){\n        var res = JSON.parse(result);\n        console.log(res.recipe);\n         var fornat= [];\n         var values = res.recipe.ingredients;\n         console.log(values);\n         values.forEach(function(item){\n            fornat.push(item);\n         });\n        console.log(fornat);\n\n        var html = '<div>'+\n                    '<h2 style=\"font-weight:20px\"><b>'+res.recipe.title+'<\/b><\/h2>'+\n                    '<div><img style=\"width:350px; height:250px; border-radius:5px;margin-top:20px\" src='+res.recipe.image_url+'><\/div>'+\n                    '<div style=\"font-size:20px; margin-top:20px\"><b>Ingredients:<\/b><\/div>'+\n                    '<div style=\"font-weight:10px; margin-top:10px\"><b>'+fornat.join(\"\\n\")+'<\/div>'+\n                    '<div>'+'<a href='+res.recipe.f2f_url+' style=\"font-size:20px; margin-top:20px\"><b>Directions<\/b><\/a><\/div>'+\n                    '<div style=\"font-weight:10px; margin-top:10px\"><b>View on The'+res.recipe.title+' <\/b><\/div>'+\n                    '<\/div>';\n                $(\"#third\").html(html); \n\n        alert(JSON.stringify(res.recipe.publisher));\n        },function(error){\n        alert(error);\n        });\n    }\n    function customise(){\n        formelo.html().get.header.title().html(\"Details\");\n}\n}());"}}],"exports":{"js":{"api_provider":{"data":"(function() {\n\n    var api_provider = {};\n    \/*\n    *  Load properties to this class\n    *  api_provider.findAll = function(){\n    *      \/\/ Do stuff\n    *  }\n    *\/\n    formelo.exports('api_provider', api_provider);\n})();"},"FoodProvider":{"data":"(function() {\n\n    var FoodProvider = {};\n    FoodProvider.alertSomething = function(something){\n    \talert(something);\n    }\n\n    FoodProvider.keys = {\n    \tmashape : \"SxZn0SGRjXmshWHiMeJBTyX7svGxp1DXihSjsnnrHi3tHUCX0Z\",\n    \tf2f : \"1dcce1114722c8a4ebf06db1e276b486\"\n    }\n    FoodProvider.searchUrl = \"https:\/\/community-food2fork.p.mashape.com\/search\";\n    FoodProvider.getRecipeByIDUrl = \"https:\/\/community-food2fork.p.mashape.com\/get\"; \n\n\n    FoodProvider.network = function(endpoint, _data, _method){\n       var data    = _data      || {};\n       data['key'] = FoodProvider.keys.f2f;\n       var method  = _method    || 'GET';\n       var txDeferred = $.Deferred();\n       var headers = {};\n       headers['X-Mashape-Key'] = FoodProvider.keys.mashape;\n       $.ajax({\n               url : endpoint,\n               type : method,\n               data : data,\n               cache: false,\n               headers: headers,\n               \/\/ dataType: 'json',\n               success : function(data){\n                   txDeferred.resolve(data);\n               },\n               error: function(xhr){\n                   console.log(xhr);\n                   txDeferred.reject(xhr);\n               },\n               timeout: TIMEOUT\n           });\n       return txDeferred.promise();\n   };\n   FoodProvider.search = function(data, successCB, errorCB){\n   \t\t$.when(FoodProvider.network(FoodProvider.searchUrl, data))\n   \t\t.done(function(dat){\n        successCB(dat)\n      })\n   \t\t.fail(function(error){\n        errorCB(error)\n      });\n   };\n   FoodProvider.search = function(data, successCB, errorCB){\n      $.when(FoodProvider.network(FoodProvider.searchUrl, data))\n      .done(function(dat){\n        successCB(dat)\n      })\n      .fail(function(error){\n        errorCB(error)\n      });\n   };\n   FoodProvider.getRecipeByID = function(recipeID, successCB, errorCB){\n      var data = recipeID;\n   \t\t$.when(FoodProvider.network(FoodProvider.getRecipeByIDUrl, data))\n   \t\t.done(function(value){\n        successCB(value);\n      })\n   \t\t.fail(function(error){\n        errorCB(error)\n      });\n   }\n   \n    formelo.exports('FoodProvider', FoodProvider);\n})();"}}},"imports":{"js":[],"css":[]},"scripts":{"muqRqoGbwJ":"(function(){\n    'use strict';\n    var foodProvider = formelo.require(\"FoodProvider\");\n    formelo.event().onCreate(function(){\n        \/\/ Entry point of this application\n        \/\/ var _data = foodProvider.search(data);\n        \/\/ alert(_data);\n\n        $(\"#next\").click(function(){\n            formelo.navigation().openActivity(\"search\");\n        })\n\n    });\n\n    formelo.event().onIntent(function(params){\n        var data = params.detail;\n        \/\/ Receive parameters from calling page\n    });\n\n    formelo.event().onClose(function(){\n        \/\/ Override close button\n        \/\/ formelo.navigation.stopPropagation()\n    });\n}());","sxEK7Uc8Up":"(function(){\n    'use strict';\n\n    var foodProvider = formelo.require(\"FoodProvider\");\n    formelo.event().onCreate(function(){\n               customise();\n\n        var title = formelo.html().getActionBar();\n        \n        $(\".search-query\").on('keyup', function(){\n            var val = $(this).val();\n            if (val.length > 3) {\n                searchValue(val);\n            }\n        });\n       \n    });\n\n    formelo.event().onIntent(function(params){\n        var data = params.detail;\n        \/\/ Receive parameters from calling page\n    });\n\n    formelo.event().onClose(function(){\n        \/\/ Override close button\n        \/\/ formelo.navigation.stopPropagation()\n    });\n    function searchValue(val){        \n            var data = {\n                q : val\n            }\n        foodProvider.search(data, function(result){\n            var res = JSON.parse(result);\n            console.log(res);\n            showResult(res.recipes);\n        },function(error){\n            alert(error);\n        });\n\n    }\n    function showResult (_data){\n        var formattedData = [];\n        _data.forEach(function(item){\n            formattedData.push({\n                image : item.image_url,\n                name : item.title,\n                description : item.publisher,\n                unique : item.recipe_id\n            })\n        });\n        formelo.ui().gridAdapter(formattedData, '#search-results').attach(function(unique){\n            formelo.navigation().openActivity(\"Recipe\", {recipe_id : unique});\n            console.log(unique);\n            \n        });\n    }\n    function customise(){\n        formelo.html().get.header.title().html(\"Recipes\");\n}\n}());","UZhotmT5Y2":"(function(){\n    'use strict';\n\n    var recipeID = null;\n    var foodProvider = formelo.require(\"FoodProvider\");\n    formelo.event().onIntent(function(params){\n        recipeID = params.detail.recipe_id;\n    });\n\n    formelo.event().onCreate(function(){\n       recipeIDValue(recipeID);      \n       console.log(recipeID);\n       customise();\n\n    });\n\n    formelo.event().onClose(function(){\n        \/\/ Override close button\n        \/\/ formelo.navigation.stopPropagation()\n    });\n    function recipeIDValue(res_id){        \n        var data = {\n            rId : res_id\n        }\n        var bluk;\n        foodProvider.getRecipeByID(data, function(result){\n        var res = JSON.parse(result);\n        console.log(res.recipe);\n         var fornat= [];\n         var values = res.recipe.ingredients;\n         console.log(values);\n         values.forEach(function(item){\n            fornat.push(item);\n         });\n        console.log(fornat);\n\n        var html = '<div>'+\n                    '<h2 style=\"font-weight:20px\"><b>'+res.recipe.title+'<\/b><\/h2>'+\n                    '<div><img style=\"width:350px; height:250px; border-radius:5px;margin-top:20px\" src='+res.recipe.image_url+'><\/div>'+\n                    '<div style=\"font-size:20px; margin-top:20px\"><b>Ingredients:<\/b><\/div>'+\n                    '<div style=\"font-weight:10px; margin-top:10px\"><b>'+fornat.join(\"\\n\")+'<\/div>'+\n                    '<div>'+'<a href='+res.recipe.f2f_url+' style=\"font-size:20px; margin-top:20px\"><b>Directions<\/b><\/a><\/div>'+\n                    '<div style=\"font-weight:10px; margin-top:10px\"><b>View on The'+res.recipe.title+' <\/b><\/div>'+\n                    '<\/div>';\n                $(\"#third\").html(html); \n\n        alert(JSON.stringify(res.recipe.publisher));\n        },function(error){\n        alert(error);\n        });\n    }\n    function customise(){\n        formelo.html().get.header.title().html(\"Details\");\n}\n}());"}}