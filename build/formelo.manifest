{"icon_url":"https:\/\/cdn.formelo.com\/20161014\/21\/1476480921594-shopping_bag_purchase_retail_buy_flat_icon-512.png","status":"live","reference_code":"opo3c245-8d72-11e6-8e46-bbec5ba9c49f","user_group":[],"description":"fsd","scope":"public","name":"Third Applet CLI","id":"dac0d9a6","parameters":{"is_submittable":true},"mode":"dynamic","root":"splash","pages":[{"layout":"<div id=\"homeContainer\">\n\n<\/div>","css":".slidedown {\n    background-color: white !important;\n}\n.applet-header-nav-btn {\n    color : black;\n}\na.applet-footer-items.ui-link.ui-btn {\n    background-color: white !important;\n    border: none !important;\n    border-top: 1px solid #ecf0f1 !important;\n}\n.footer-active {\n    color: #c0392b;\n}\n.footer-not-active{\n    color : #34495e;\n}","name":"home","key":"home","events":{"ready":"(function(){\n    'use strict';\n    var footer = formelo.require('footer');\n    var config = formelo.require('config');\n    var Helpers = formelo.require('Helpers');\n    var MoltinManager = formelo.require('MoltinManager');\n    var UserManager = formelo.require('UserManager');\n\n\n    formelo.event().onCreate(function(){\n            \/\/ Entry point of this application\n        \/\/UserManager.init(function(){\n            footer.build('home');\n            customise();\n            MoltinManager.authenticate(function(aa){\n                MoltinManager.access_token = aa.access_token;\n                showCategories();\n                if (config.isAdmin){\n                    showAddButton();\n                }\n            });\n        \/\/});\n    });\n    formelo.event().onResult(function(){\n        \/\/var waiting = showWaiting('#homeContainer');\n        showCategories();\n    });\n    formelo.event().onIntent(function(params){\n        var data = params.detail;\n        \/\/ Receive parameters from calling page\n    });\n    formelo.event().onClose(function(){\n        \/\/ Override close button\n        \/\/ formelo.navigation.stopPropagation()\n        overrideBackButton();\n    });\n\n    function overrideBackButton(){\n        formelo.navigation().stopPropagation();\n        formelo.close();\n    }\n    var showAddButton = function(){\n        var data = [{\n            'name' : 'Add',\n            'unique' : 'add'\n        }];\n        formelo.ui().actionBars(data, function(unique){\n            \/\/ Open create product page\n            formelo.navigation().openActivity('create-category', { mode : 'create'});\n        });\n    };\n    function customise(){\n        formelo.html().get.header.title().html(config.store.name);\n    }\n    function bareList(data, placeHolder, callback) {\n            var defaults = {\n                'icon' : '',\n                'text' : '',\n                'colour' :  '#2980b9',\n                'unique' : null\n            };\n            if (!data || !data.length){\n                return false;\n            }\n            var html = '';\n            var i = 1;\n            data.forEach(function(item){\n                var newDefault = $.extend({}, defaults, item);\n                html += '<div unique=\"'+item.unique+'\" class=\"row holder-clickable-item\" style=\"height: 20vh;background-color: '+newDefault.colour+';\">'+\n                    '<div class=\"col-xs-2\" style=\"\">'+\n                    '<p style=\"margin-top: 40%; color: white;font-weight: 400; text-align: center;\">'+i+'<\/p>'+\n                    '<\/div>'+\n                    '<div class=\"col-xs-10\">'+\n                    '<p style=\"font-size: xx-large ;font-weight: 400;color: white;text-align: center;line-height: 20vh;margin-left: -20%;\">'+newDefault.text+'<\/p>'+\n                    '<\/div>'+\n                    '<\/div>';\n                i++;\n            });\n            $(placeHolder).html(html);\n            $('.holder-clickable-item').click(function(){\n                callback($(this).attr('unique'));\n            });\n    }\n    function showCategories () {\n        var waiting = Helpers.showWaiting('#homeContainer');\n        MoltinManager.categories.getAll(function(data){\n            \/\/ Parse data\n\n            if (!data.length){\n                return waiting.error('Empty', 'No Categories available');\n            }\n            waiting.stop();\n            var colours = [\n                '#f1c40f', '#e74c3c', '#3498db', '#1abc9c'\n            ];\n            var _data = [];\n            var q = 0;\n            data.forEach(function(item){\n                _data.push({\n                    'text' : item.title,\n                    'colour' : colours[q],\n                    'unique' : item.id\n                });\n                q = q == 3 ? 0 : q + 1;\n            });\n            bareList(_data, '#homeContainer', function(unique){\n                formelo.navigation().openActivity('details', {categoryID : unique});\n            });\n        }, function(err){\n            alert(JSON.stringify(err));\n        });\n    }\n}());"}},{"layout":"<div id=\"details-placeholder\">\n\n<\/div>","css":"","name":"details","key":"details","events":{"ready":"(function(){\n    'use strict';\n    var categoryID = null;\n    var footer = formelo.require('footer');\n    var MoltinManager = formelo.require('MoltinManager');\n    var Helpers = formelo.require('Helpers');\n    var config = formelo.require('config');\n\n    formelo.event().onCreate(function(){\n        \/\/ Entry point of this application\n        footer.build('home');\n        customise();\n        if (config.isAdmin){\n            showAddButton();\n        }\n        Helpers.showWaiting('#details-placeholder');\n        showItemsInCategory(categoryID);\n    });\n    formelo.event().onResult(function(){\n        Helpers.showWaiting('#details-placeholder');\n        showItemsInCategory(categoryID);\n    });\n    formelo.event().onIntent(function(params){\n        \/\/ Receive parameters from calling page\n        categoryID = params.detail['categoryID'];\n    });\n    formelo.event().onClose(function(){\n        \/\/ Override close button\n        \/\/ formelo.navigation.stopPropagation()\n    });\n\n    var showAddButton = function(){\n        var data = [{\n             'name' : 'Add',\n             'unique' : 'add'\n        }];\n        formelo.ui().actionBars(data, function(unique){\n            \/\/ Open create product page\n            formelo.navigation().openActivity('product-create', {categoryID : categoryID, mode : 'create'});\n        });\n    };\n    var showEmptyState = function(placeholder, title, message){\n        var previousHtml = $(placeholder).html();\n        var title  = title || 'Empty';\n        var message  = message || 'Nothing Here';\n        var loadingHtml =   '<div class=\"container-xs-height full-vh\">' +\n            '<div class=\"row-xs-height\">'+\n            '<div class=\"col-xs-height col-middle\">'+\n            '<div class=\"error-container text-center\">'+\n            '<h1 class=\"error-number\" style=\"color: grey;\">'+title+'<\/h1>'+\n            '<h3 style=\"color: grey;\">'+message+'<\/h3>'+\n            '<\/div>'+\n            '<\/div>'+\n            '<\/div>'+\n            '<\/div>';\n        $(placeholder).html(loadingHtml);\n    };\n    var customise = function(){\n        formelo.html().get.header.title().html(\"Product List\");\n    };\n    var showItemsInCategory = function(id){\n        MoltinManager.products.getProductsByCategory(id, function(data){\n            var _data = [];\n            if (!data.length){\n                return showEmptyState('#details-placeholder');\n            }\n            data.forEach(function(item){\n                _data.push({\n                    'name' : item.title,\n                    'description' : item.price.value,\n                    'image' : (item.images[0] && item.images[0].url && item.images[0].url.https) ? item.images[0].url.https : 'https:\/\/s-media-cache-ak0.pinimg.com\/236x\/fc\/7e\/ce\/fc7ece8e8ee1f5db97577a4622f33975.jpg',\n                    'unique' : item.id\n                });\n            });\n            formelo.ui().gridAdapter(_data, '#details-placeholder').attach(function(unique){\n                showDescription(unique);\n            })\n        }, function(error){\n            console.log(error);\n        });\n    };\n    var showDescription = function(unique) {\n        formelo.navigation().openActivity('description', {productID : unique});\n    };\n}());"}},{"layout":"<div style=\"height: 80vh;\" id=\"description-placeholder\">\n    <div style=\"background: white;height: 50%;text-align: center;\" class=\"panorama\">\n        <span class=\"helper\" style=\"display: inline-block;height: 100%;vertical-align: middle;\"><\/span>\n        <img id=\"description_image\" src=\"img\/loading.png\" style=\"width: 70%;\">\n    <\/div>\n    <div style=\"height: 50%;padding: 2%;background-color: white;\">\n        <p id=\"description_name\" style=\"font-weight: 400;text-align: center;\">Dior Eye Glasses<\/p><hr>\n        <p id=\"description_description\" style=\"font-size: small;\">Step into the world of unlimited oppurtunities with this awesome rayban glasses. With this you can get anything you wish<\/p>\n    <\/div>\n<\/div>","css":"","name":"description","key":"description","events":{"ready":"(function(){\n    'use strict';\n    var productID = null;\n\n    var MoltinManager = formelo.require('MoltinManager');\n    var UserManager = formelo.require('UserManager');\n    var Helpers = formelo.require('Helpers');\n    var config = formelo.require('config');\n\n    formelo.event().onCreate(function(){\n        \/\/ Entry point of this application\n        resetProductDescription();\n        getProductDescription(productID);\n        customise();\n    });\n    formelo.event().onIntent(function(params){\n        \/\/ Receive parameters from calling page\n        productID = params.detail['productID'];\n    });\n    formelo.event().onClose(function(){\n        \/\/ Override close button\n        \/\/ formelo.navigation.stopPropagation()\n    });\n\n    function customise(){\n        formelo.html().get.header.title().html(\"Product Description\");\n    }\n    function isProductInCart(productID){\n        UserManager.showRegistration(function(userData){\n            console.log('Fetching '+productID+ ' in cart '+userData.id);\n            MoltinManager.cart.isProductInCart(productID, userData.id, function(data){\n                console.log(JSON.stringify(data));\n                if (data.in_cart){\n                    showAddedToCartButton(userData.id);\n                } else {\n                    showAddToCartButton();\n                }\n            }, function(err){\n                console.log(err);\n            });\n        }, function(err){\n            console.log(err);\n        });\n    }\n    function showAddedToCartButton(id) {\n        var data = [\n            {\n                'icon' : 'fa fa-check',\n                'text' : 'Already in Cart',\n                'unique' : id\n            }\n        ];\n        formelo.ui().footer(data, function(unique){\n            console.log('Removing '+productID+ ' from cart '+unique);\n            MoltinManager.cart.deleteItemFromCart(productID, unique, function(data){\n                console.log(data);\n                formelo.navigation().result();\n            }, function(err){\n                console.error(err);\n            });\n        });\n    }\n    function showAddToCartButton() {\n        var data = [\n            {\n                'icon' : 'fa fa-shopping-cart',\n                'text' : 'Add to Cart',\n                'unique' : productID\n            }\n        ];\n        formelo.ui().footer(data, function(data){\n                if (config.inProductionMode()){\n                    formelo.ui().spinner.show();\n                }\n                UserManager.showRegistration(function(data){\n                    MoltinManager.cart.addToCart(data.id, productID, 1, function(data){\n                        if (config.inProductionMode()){\n                            formelo.ui().spinner.hide();\n                            showMessage('Added to Cart.');\n                        }\n                        console.log('Added');\n                        console.log(data);\n                        \/\/formelo.navigation().result();\n                    }, function(err){\n                        console.error('[Add To Cart]' + JSON.stringify(err));\n                    });\n                }, function(err){\n                    if (config.inProductionMode()){\n                        formelo.ui().spinner.hide();\n                    }\n                    console.error(err);\n                });\n        });\n    }\n    function resetProductDescription(){\n        $('#description_image').attr('src', 'img\/loading.png');\n        $('#description_name').html('Please wait');\n        $('#description_description').html('Loading Product details');\n    }\n    function showProductDescription(data) {\n        var defaultImg = \"https:\/\/s-media-cache-ak0.pinimg.com\/736x\/63\/8b\/cd\/638bcd252d51340cb0d645adbf19eac3.jpg\";\n        $('#description_name').html(data.title);\n        $('#description_description').html(data.description);\n        $('#description_image').attr('src', (data && data.images && data.images.length && data.images[0].url) ? data.images[0].url.https : defaultImg);\n    }\n    function getProductDescription(id){\n        var waiting = Helpers.showWaiting('#description-placeholder');\n        MoltinManager.products.getProductByID(id, function(data){\n            waiting.stop();\n            showProductDescription(data);\n            showAddToCartButton();\n        }, function(err){\n            waiting.error('Error', 'Could not fetch details');\n            alert(JSON.stringify(err));\n        })\n    }\n}());"}},{"layout":"<div id=\"cart-summary\"><\/div>\n<div id=\"cart-placeholder\"><\/div>","css":"","name":"cart","key":"cart","events":{"ready":"(function(){\n    'use strict';\n    var MoltinManager = formelo.require('MoltinManager');\n    var UserManager = formelo.require('UserManager');\n    var footer = formelo.require('footer');\n    var Helpers = formelo.require('Helpers');\n    var config = formelo.require('config');\n\n    var customerID = null;\n    var customerData = null;\n    var billingData = null;\n\n    formelo.event().onCreate(function(){\n        \/\/ Entry point of this application\n        footer.build('cart');\n        Helpers.showWaiting('#cart-placeholder');\n        showItemsInCart();\n        customise();\n    });\n    formelo.event().onIntent(function(params){\n        var data = params.detail;\n        \/\/ Receive parameters from calling page\n    });\n    formelo.event().onClose(function(){\n        \/\/ Override close button\n        \/\/ formelo.navigation.stopPropagation()\n        \/\/overrideBackButton();\n    });\n    formelo.event().onResult(function(data){\n        if (data && data.mode == 'billing'){\n            billingData = data.data;\n            checkout();\n        } else {\n            Helpers.showWaiting('#cart-placeholder');\n            showItemsInCart();\n        }\n    });\n\n    function showCartSummary(cartSummary){\n        var totalAmount = cartSummary.totals.post_discount.formatted.without_tax;\n        var html = '<div class=\"row\" style=\"height: 20vh;background-color: cornflowerblue;\">'+\n                        '<div class=\"col-xs-6\" style=\"color:white;text-align:center;height: 100%;\">'+\n                            '<p style=\"font-size: x-large;line-height: 20vh;\">Total<\/p>'+\n                        '<\/div>'+\n                        '<div class=\"col-xs-6\" style=\"color:white;text-align:center;line-height:100%;height: inherit;\">'+\n                            '<p style=\"font-size: x-large;line-height: 20vh;\" id=\"total_amount\">'+totalAmount+'<\/p>'+\n                        '<\/div>'+\n                    '<\/div>';\n        $('#cart-summary').html(html);\n    }\n    function showCheckoutButton(unique) {\n        var data = [\n            {\n                'icon' : 'fa fa-shopping-cart',\n                'text' : 'Checkout',\n                'unique' : 'checkout'\n            }\n        ];\n        formelo.ui().footer(data, function(data){\n            if (billingData == null) {\n                \/\/ Fetch billing Addresses\n                if (config.inProductionMode()){\n                    showMessage('Loading Addresses');\n                    formelo.ui().spinner.show();\n                }\n                MoltinManager.customers.getAddressForCustomer(customerID, function(data){\n                    console.log(data);\n                    if (config.inProductionMode()){\n                        showMessage('Loading Addresses');\n                        formelo.ui().spinner.hide();\n                    }\n                    if (!data.length){\n                        showMessage('No shipping address found.');\n                        formelo.navigation().openActivity('billing', {customerData : customerData, customerID : customerID});\n                    } else {\n                        formelo.navigation().openActivity('billing', {customerData : customerData, customerID : customerID});\n                    }\n                }, function(err){\n                    if (config.inProductionMode()){\n                        formelo.ui().spinner.hide();\n                    }\n                    console.error(err);\n                });\n            } else {\n                checkout();\n            }\n        });\n    }\n    function checkout(){\n        if (billingData === null) {\n            billingData['first_name'] = customerData['name'];\n            billingData['lastname_name'] = customerData['name'];\n            console.log('Checking out that ass...');\n            MoltinManager.cart.checkout(customerID, billingData, function (data) {\n                console.log('Ass checked out ' + data);\n                showItemsInCart();\n            }, function(err){\n                console.log('An error occured '+err);\n            })\n        }\n    }\n    function customise(){\n        formelo.html().get.header.title().html(\"My Cart\");\n    }\n    function showItemsInCart(){\n        $('#cart-summary').html(\"\");\n        UserManager.showRegistration(function(data){\n            customerID = data.id;\n            customerData = data;\n            MoltinManager.cart.getItemsInCart(data.id, function(data){\n                console.log(JSON.stringify(data));\n                populateCheckout(data);\n            }, function(err){\n                console.error(JSON.stringify(err));\n                Helpers.showEmptyState('#cart-placeholder', 'Error', 'An error occured. Please try again.');\n            });\n        }, function(err){\n            console.error(err);\n            Helpers.showEmptyState('#cart-placeholder', 'Error', 'User not found.');\n        });\n    }\n    function populateCheckout(cartData){\n        var data = cartData.contents;\n        var _data = [];\n        var isEmpty = true;\n        for(var key in data){\n            if (data[key]) {\n                var item = data[key];\n                isEmpty = false;\n                _data.push({\n                    'name' : item.title,\n                    'description' : item.price.value,\n                    'image' : (item.images[0] && item.images[0].url && item.images[0].url.https) ? item.images[0].url.https : 'https:\/\/s-media-cache-ak0.pinimg.com\/236x\/fc\/7e\/ce\/fc7ece8e8ee1f5db97577a4622f33975.jpg',\n                    'unique' : item.id\n                });\n            }\n        }\n        if (isEmpty){\n            return Helpers.showEmptyState('#cart-placeholder', 'Empty', 'No Items in cart yet');\n        } else {\n            formelo.ui().gridAdapter(_data, '#cart-placeholder').attach(function(unique){\n                if (config.inProductionMode()){\n                    formelo.ui().showNativeOptions('Options', 'What would you want to do?', ['View Item', 'Remove from Cart'], function(index){\n                        if (index == 1){\n                            showDescription(unique);\n                        } else {\n                            removeFromCart(unique);\n                        }\n                    })\n                } else {\n                    if (window.confirm('Remove from cart')){\n                        showDescription(unique);\n                    } else {\n                        removeFromCart(unique);\n                    }\n                }\n            });\n            showCartSummary(cartData);\n            showCheckoutButton();\n        }\n    }\n    function showDescription(unique) {\n        formelo.navigation().openActivity('description', {productID : unique});\n    }\n    function removeFromCart(unique){\n        console.log('Removing '+unique+' from '+customerID);\n        if (config.inProductionMode()){\n            formelo.ui().spinner.show();\n        }\n        MoltinManager.cart.removeFromCart(customerID, unique, function(data){\n            if (config.inProductionMode()){\n                formelo.ui().spinner.hide();\n                showMessage(\"Removed\");\n            }\n            showItemsInCart();\n        }, function(err){\n            if (config.inProductionMode()){\n                formelo.ui().spinner.hide();\n                showMessage(\"An Error occured\");\n            }\n            console.error(err);\n        });\n    }\n}());"}},{"layout":"<div id=\"deals-placeholder\">\n\n<\/div>","css":"","name":"deals","key":"deals","events":{"ready":"(function(){\n    'use strict';\n    var footer = formelo.require('footer');\n    var Helpers = formelo.require('Helpers');\n\n    formelo.event().onCreate(function(){\n        \/\/ Entry point of this application\n        footer.build('deals');\n        customise();\n        Helpers.showWaiting('#deals-placeholder').error('No Deals', 'Kindly check again later');\n    });\n\n    formelo.event().onIntent(function(params){\n        var data = params.detail;\n        \/\/ Receive parameters from calling page\n    });\n\n    formelo.event().onClose(function(){\n        \/\/ Override close button\n        \/\/ formelo.navigation.stopPropagation()\n        overrideBackButton();\n    });\n\n    function customise(){\n        formelo.html().get.header.title().html(\"Today's Deals\");\n    }\n    function fetchItems(id) {\n        var txDeferred = $.Deferred();\n        var data = [\n            {\n                name : 'Cindy Materials',\n                description : 'Al the funky eye glasses you need',\n                time : '$10.99',\n                image : 'http:\/\/previews.123rf.com\/images\/nito500\/nito5001106\/nito500110600004\/9712978-black-glasses-on-a-white-background-Stock-Photo-eyeglasses-glasses-hipster.jpg',\n                unique: 'sdsds'\n            },\n            {\n                name : 'Cindy Materials',\n                description : 'Al the funky eye glasses you need',\n                time : '$61.99',\n                image : 'http:\/\/previews.123rf.com\/images\/nito500\/nito5001106\/nito500110600004\/9712978-black-glasses-on-a-white-background-Stock-Photo-eyeglasses-glasses-hipster.jpg',\n                unique: 'dsd'\n            },\n            {\n                name : 'Cindy Materials',\n                description : 'Al the funky eye glasses you need',\n                time : '$6.23',\n                image : 'http:\/\/previews.123rf.com\/images\/nito500\/nito5001106\/nito500110600004\/9712978-black-glasses-on-a-white-background-Stock-Photo-eyeglasses-glasses-hipster.jpg',\n                unique: 'ssd'\n            },\n            {\n                name : 'Cindy Materials',\n                description : 'Al the funky eye glasses you need',\n                time : '$1.99',\n                image : 'http:\/\/previews.123rf.com\/images\/nito500\/nito5001106\/nito500110600004\/9712978-black-glasses-on-a-white-background-Stock-Photo-eyeglasses-glasses-hipster.jpg',\n                unique: 'dsds'\n            },{\n                name : 'Cindy Materials',\n                description : 'Al the funky eye glasses you need',\n                time : '$7.42',\n                image : 'http:\/\/previews.123rf.com\/images\/nito500\/nito5001106\/nito500110600004\/9712978-black-glasses-on-a-white-background-Stock-Photo-eyeglasses-glasses-hipster.jpg',\n                unique: 'cinde'\n            }\n        ];\n        txDeferred.resolve(data);\n        return txDeferred.promise();\n    }\n    function showDealsItems(id){\n        \/\/ Show loading\n        $.when(fetchItems())\n            .done(function(data){\n                formelo.ui().gridAdapter(data, '#deals-placeholder').attach(function(unique){\n                    showDescription(unique);\n                })\n            })\n    }\n    function showDescription(unique) {\n        formelo.navigation().openActivity('description', {id : unique});\n    }\n    function overrideBackButton(){\n        formelo.navigation().stopPropagation();\n        formelo.close();\n    }\n}());"}},{"layout":"<div class=\"form-group form-group-default required\" aria-required=\"true\">\n    <label>Title<\/label>\n    <input type=\"text\" id=\"product_title\" class=\"form-control\" required=\"\">\n<\/div>\n<div class=\"form-group form-group-default required\" aria-required=\"true\">\n    <label>Description<\/label>\n    <textarea class=\"form-control\" id=\"product_description\" name=\"firstName\" required=\"\"> <\/textarea>\n<\/div>\n<div class=\"form-group form-group-default required\" aria-required=\"true\">\n    <label>Price<\/label>\n    <input type=\"number\" id=\"product_price\" class=\"form-control error\">\n<\/div>\n<div class=\"form-group form-group-default required\" aria-required=\"true\">\n    <label>SKU<\/label>\n    <input type=\"number\" id=\"product_sku\" class=\"form-control error\" required=\"\" >\n<\/div>\n<div class=\"form-group form-group-default required\" aria-required=\"true\">\n    <label>The amount of product in stock.<\/label>\n    <input type=\"number\" id=\"product_stock_level\" class=\"form-control error\" >\n<\/div>","css":"","name":"product-create","key":"product-create","events":{"ready":"(function(){\n    'use strict';\n    var MoltinManager = formelo.require('MoltinManager');\n    var Helpers = formelo.require('Helpers');\n    var mode = 'create';\n    var categoryID = null;\n    var productID = null;\n\n    formelo.event().onCreate(function(){\n        \/\/ Entry point of this application\n        customise();\n        showSaveButton();\n    });\n\n    formelo.event().onIntent(function(params){\n        \/\/ Receive parameters from calling page\n        categoryID = params.detail['categoryID'];\n        productID = params.detail['productID'];\n        mode = params.detail['mode'];\n    });\n\n    formelo.event().onClose(function(){\n        \/\/ Override close button\n        \/\/ formelo.navigation.stopPropagation()\n    });\n\n    function showSaveButton(){\n        var data = [{\n            'name' : mode == 'create' ? \"Save\" : \"Update\",\n            'unique' : mode\n        }];\n        formelo.ui().actionBars(data, function(unique){\n             if (unique == 'create'){\n                 submit();\n             } else {\n                 \/\/ TODO Update Product\n             }\n        });\n    };\n    function customise(){\n        formelo.html().get.header.title().html(mode == 'create' ? 'Add' : 'Update'+ \" Product\");\n    }\n    function getValues(){\n        var title = $('#product_title').val();\n        var description = $('#product_description').val();\n        var price = $('#product_price').val();\n        var sku = $('#product_sku').val();\n        var stock_level = $('#product_stock_level').val();\n        if (!(title && description &&\n            price && sku && stock_level))\n        {\n            throw new Error('Kindly check your form and try again');\n        }\n        var stock_status = 1;\n        var slug = title.trim().toLowerCase()+'_'+Helpers.str_random();\n        var status = 1;\n        var category = categoryID;\n        var requires_shipping = 1;\n        var tax_band = \"1359674746093961681\";\n        var catalog_only = 0;\n        return  {\n            title : title,\n            description : description,\n            price : price,\n            sku : sku,\n            stock_level : stock_level,\n            stock_status : stock_status,\n            slug : slug,\n            status : status,\n            category : category,\n            requires_shipping : requires_shipping,\n            tax_band : tax_band,\n            catalog_only : catalog_only\n        };\n    }\n    function submit(){\n        try {\n            var data = getValues();\n            console.log(data);\n            MoltinManager.products.create(data, function(data){\n                alert(JSON.stringify(data));\n                formelo.navigation().result();\n            }, function(err){\n                alert(JSON.stringify(err));\n            });\n        } catch (e) {\n            alert(e.message);\n        }\n    }\n}());"}},{"layout":"<div class=\"form-group form-group-default required\" aria-required=\"true\">\n    <label>Title<\/label>\n    <input type=\"text\" id=\"category_title\" class=\"form-control\" required=\"\">\n<\/div>\n<div class=\"form-group form-group-default required\" aria-required=\"true\">\n    <label>Description<\/label>\n    <textarea class=\"form-control\" id=\"category_description\" name=\"firstName\" required=\"\"> <\/textarea>\n<\/div>\n","css":"","name":"create-category","key":"create-category","events":{"ready":"(function(){\n    'use strict';\n    var MoltinManager = formelo.require('MoltinManager');\n    var categoryID = null;\n    var mode = 'create';\n    formelo.event().onCreate(function(){\n        \/\/ Entry point of this application\n        customise();\n        showSaveButton();\n    });\n\n    formelo.event().onIntent(function(params){\n        var data = params.detail;\n        categoryID = params.detail['categoryID'];\n        \/\/ Receive parameters from calling page\n    });\n\n    formelo.event().onClose(function(){\n        \/\/ Override close button\n        \/\/ formelo.navigation.stopPropagation()\n    });\n    function showSaveButton(){\n        var data = [{\n            'name' : mode == 'create' ? \"Save\" : \"Update\",\n            'unique' : mode\n        }];\n        formelo.ui().actionBars(data, function(unique){\n            if (unique == 'create'){\n                submit();\n            } else {\n                \/\/ TODO Update Product\n            }\n        });\n    };\n    function customise(){\n        formelo.html().get.header.title().html(mode == 'create' ? 'Add Category' : 'Update Category');\n    }\n    function getValues(){\n        var title = $('#category_title').val();\n        var description = $('#category_description').val();\n        if (!(title && description)) {\n            throw new Error('Kindly check your form and try again');\n        }\n        var slug = title.trim().toLowerCase();\n        var status = 1;\n        return  {\n            title : title,\n            description : title,\n            slug : slug,\n            status : status\n        };\n    }\n    function submit(){\n        try {\n            var data = getValues();\n            console.log(data);\n            MoltinManager.categories.create(data, function(data){\n                \/\/alert(JSON.stringify(data));\n                formelo.navigation().result();\n            }, function(err){\n                alert(JSON.stringify(err));\n            });\n        } catch (e) {\n            alert(e.message);\n        }\n    }\n}());"}},{"layout":"<div id = \"setup-categories-placeholder\"><\/div>","css":"","name":"setup","key":"setup","events":{"ready":"(function(){\n    'use strict';\n    var config = formelo.require('config');\n    var footer = formelo.require('footer');\n\n    formelo.event().onCreate(function(){\n        \/\/ Entry point of this application\n        footer.build('settings');\n        showSetupCategories();\n        customise();\n    });\n\n    formelo.event().onIntent(function(params){\n        var data = params.detail;\n        \/\/ Receive parameters from calling page\n    });\n\n    formelo.event().onClose(function(){\n        \/\/ Override close button\n        \/\/ formelo.navigation.stopPropagation()\n        overrideBackButton();\n    });\n\n    function customise(){\n        formelo.html().get.header.title().html(\"Store Setup\");\n        footer.build('settings');\n    }\n    function showSetupCategories(id){\n        var data = [\n            {\n                name : 'Social Media Accounts',\n                description : 'Link your social media accounts to automatically fetch and post product',\n                image : 'https:\/\/www.seeklogo.net\/wp-content\/uploads\/2016\/05\/instagram-icon-logo-vector-download.jpg',\n                unique: 'smc'\n            },\n            {\n                name : 'Basic Store Settings',\n                description : 'Setup basic store items',\n                image : 'http:\/\/image.flaticon.com\/icons\/png\/512\/60\/60473.png',\n                unique: 'bss'\n            },\n            {\n                name : 'Orders',\n                description : 'Stats of pending store orders',\n                image : 'http:\/\/image.flaticon.com\/icons\/png\/512\/20\/20826.png',\n                unique: 'ss'\n            }\n        ];\n        formelo.ui().gridAdapter(data, '#setup-categories-placeholder').attach(function(unique){\n            if (unique == 'smc'){\n                formelo.navigation().openActivity('social-media-settings')\n            } else if (unique == 'bss') {\n                formelo.navigation().openActivity('basic-store-settings')\n            } else if (unique == 'ss'){\n                formelo.navigation().openActivity('orders');\n            }\n        })\n    }\n    function overrideBackButton(){\n        formelo.navigation().stopPropagation();\n        formelo.close();\n    }\n}());"}},{"layout":"<div class=\"form-group form-group-default required\" aria-required=\"true\">\n    <label><i class=\"fa fa-instagram\"><\/i> Instagram Username<\/label>\n    <input type=\"text\" id=\"instagram_name\" class=\"form-control\" required=\"\">\n<\/div>\n<div class=\"form-group form-group-default required\" aria-required=\"true\">\n    <label><i class=\"fa fa-twitter\"><\/i> Twitter Username<\/label>\n    <input type=\"text\" id=\"twitter_name\" class=\"form-control\" required=\"\">\n<\/div>\n\n","css":"","name":"social-media-settings","key":"social-media-settings","events":{"ready":"(function(){\n    'use strict';\n    var footer = formelo.require('footer');\n    formelo.event().onCreate(function(){\n        \/\/ Entry point of this application\n        customise();\n        footer.build('settings');\n    });\n\n    formelo.event().onIntent(function(params){\n        var data = params.detail;\n        \/\/ Receive parameters from calling page\n    });\n\n    formelo.event().onClose(function(){\n        \/\/ Override close button\n        \/\/ formelo.navigation.stopPropagation()\n    });\n    function customise(){\n        formelo.html().get.header.title().html(\"Social Media Settings\");\n    }\n}());"}},{"layout":"<div class=\"form-group form-group-default required\" aria-required=\"true\">\n    <label>Store Name<\/label>\n    <input type=\"text\" id=\"store_name\" class=\"form-control\" required=\"\">\n<\/div>\n<div class=\"form-group form-group-default required\" aria-required=\"true\">\n    <label>Description<\/label>\n    <textarea class=\"form-control\" id=\"store_description\" name=\"firstName\" required=\"\"> <\/textarea>\n<\/div>\n<div class=\"form-group form-group-default required\" aria-required=\"true\">\n    <label>Client ID<\/label>\n    <input type=\"text\" id=\"store_id\" class=\"form-control error\">\n<\/div>\n<div class=\"form-group form-group-default required\" aria-required=\"true\">\n    <label>Client Secret Key<\/label>\n    <input type=\"text\" id=\"store_secret\" class=\"form-control error\" required=\"\" >\n<\/div>\n","css":"","name":"basic-store-settings","key":"basic-store-settings","events":{"ready":"(function(){\n    'use strict';\n    var footer = formelo.require('footer');\n    formelo.event().onCreate(function(){\n        \/\/ Entry point of this application\n        customise();\n        footer.build('settings');\n    });\n\n    formelo.event().onIntent(function(params){\n        var data = params.detail;\n        \/\/ Receive parameters from calling page\n    });\n\n    formelo.event().onClose(function(){\n        \/\/ Override close button\n        \/\/ formelo.navigation.stopPropagation()\n    });\n    function customise(){\n        formelo.html().get.header.title().html(\"Basic Settings\");\n    }\n}());"}},{"layout":"<div id=\"orders-placeholder\">\n\n<\/div>","css":"","name":"orders","key":"orders","events":{"ready":"(function(){\n    'use strict';\n    var MoltinManager = formelo.require('MoltinManager');\n    var Helpers = formelo.require('Helpers');\n    var footer = formelo.require('footer');\n    formelo.event().onCreate(function(){\n        \/\/ Entry point of this application\n        footer.build('settings');\n        fetchOrders();\n        customise();\n    });\n\n    formelo.event().onIntent(function(params){\n        var data = params.detail;\n        \/\/ Receive parameters from calling page\n    });\n\n    formelo.event().onClose(function(){\n        \/\/ Override close button\n        \/\/ formelo.navigation.stopPropagation()\n    });\n    function customise(){\n        formelo.html().get.header.title().html(\"My Orders\");\n    }\n    function fetchOrders (){\n        var loader = Helpers.showWaiting('#orders-placeholder');\n        MoltinManager.orders.listAllOrders(function(data){\n                console.log(data);\n                loader.stop();\n                var _data = [];\n                if (!data.length){\n                    return loader.error('Empty', 'No Orders Available yet');\n                }\n                data.forEach(function(item){\n                    var image = \"img\/bg\/\"+item.customer.value.charAt(0).toUpperCase()+\".gif\";\n                    _data.push({\n                        name : item.customer.value,\n                        description : item.currency_code + ' ' + item.total,\n                        time : item.created_at,\n                        unique : item.id,\n                        image : image\n                    });\n                });\n                formelo.ui().listAdapter(_data, '#orders-placeholder').attach(function(unique){\n                    console.log('Mark as authorized');\n                })\n            },\n        function(err){\n            console.log(err);\n            loader.error(':(', 'An Error has occured');\n        })\n    }\n}());\n\n"}},{"layout":"<div class=\"form-group form-group-default required\" aria-required=\"true\">\n    <label>Firstname<\/label>\n    <input type=\"text\" id=\"billing_firstname\" class=\"form-control\" required=\"\" \/>\n<\/div>\n<div class=\"form-group form-group-default required\" aria-required=\"true\">\n    <label>Lastname<\/label>\n    <input type=\"text\" id=\"billing_lastname\" class=\"form-control\" required=\"\" \/>\n<\/div>\n<div class=\"form-group form-group-default required\" aria-required=\"true\">\n    <label>Address<\/label>\n    <textarea type=\"text\" id=\"billing_address\" class=\"form-control\" required=\"\"><\/textarea>\n<\/div>\n<div class=\"form-group form-group-default required\" aria-required=\"true\">\n    <label>City<\/label>\n    <input type=\"text\" id=\"billing_city\" class=\"form-control\" required=\"\" \/>\n<\/div>\n<div class=\"form-group form-group-default required\" aria-required=\"true\">\n    <label>State<\/label>\n    <input type=\"text\" id=\"billing_state\" class=\"form-control\" required=\"\" \/>\n<\/div>\n<div class=\"form-group form-group-default required\" aria-required=\"true\">\n    <label>Country<\/label>\n    <input type=\"text\" id=\"billing_country\" class=\"form-control\" required=\"\" \/>\n<\/div>\n<div class=\"form-group form-group-default required\" aria-required=\"true\">\n    <label><i class=\"fa fa-twitter\"><\/i> ZIP Code <\/label>\n    <input type=\"text\" id=\"billing_zip\" class=\"form-control\" required=\"\" \/>\n<\/div>\n\n","css":"","name":"billing","key":"billing","events":{"ready":"(function(){\n    'use strict';\n    var config = formelo.require('config');\n    var MoltinManager = formelo.require('MoltinManager');\n    var customerData = null;\n    var customerID = null;\n    formelo.event().onCreate(function(){\n        \/\/ Entry point of this application\n        customise();\n        showCheckoutButton();\n    });\n\n    formelo.event().onIntent(function(params){\n        customerData = params.detail.customerData;\n        customerID = params.detail.customerID;\n        \/\/ Receive parameters from calling page\n    });\n\n    formelo.event().onClose(function(){\n        \/\/ Override close button\n        \/\/ formelo.navigation.stopPropagation()\n    });\n    function customise(){\n        formelo.html().get.header.title().html(\"Billing Address\");\n    }\n    function showSaveButton(){\n        var data = [{\n            'name' : 'Save',\n            'unique' : 'save'\n        }];\n        formelo.ui().actionBars(data, function(unique){\n            if (unique == 'save'){\n                submit();\n            }\n        });\n    }\n    function getValues(){\n        var firstname = $('#billing_firstname').val();\n        var lastname = $('#billing_lastname').val();\n        var address = $('#billing_address').val();\n        var city = $('#billing_city').val();\n        var state = $('#billing_state').val();\n        var country = $('#billing_country').val();\n        var zip = $('#billing_zip').val();\n        if (!(address && city && zip &&\n            state && country\n            && firstname && lastname\n            ))\n        {\n            throw new Error('Kindly check your form and try again');\n        }\n        return  {\n            save_as : 'Home',\n            first_name : firstname,\n            last_name : lastname,\n            address_1:  address,\n            city:       city,\n            county:     state,\n            country:    country,\n            postcode:   zip\n        };\n    }\n    function submit(){\n        try {\n            var data = getValues();\n            return checkout(customerID, data);\n            \/\/ Create address\n            console.log('Creating address for '+customerData.id);\n            MoltinManager.customers.createAddress(customerData.id, data, function(data){\n                \/\/ Add to cart\n                console.log(data);\n                checkout(customerData.id, data.result.id);\n            }, function(err){\n                console.log('Error is '+JSON.stringify(err));\n                console.log(err);\n            });\n        } catch (e){\n            if (config.inProductionMode()){\n                showMessage(e.message);\n            }\n        }\n    }\n    function showCheckoutButton(){\n        var data = [\n            {\n                'icon' : 'fa fa-shopping-cart',\n                'text' : 'Proceed to Checkout',\n                'unique' : 'checkout'\n            }\n        ];\n        formelo.ui().footer(data, function(data){\n            checkout(customerID, getValues());\n        });\n    }\n    function checkout(customerID, billingAddressID){\n            console.log('Checking out that ass...' +JSON.stringify(billingAddressID)+ ' For user '+customerID);\n            MoltinManager.cart.checkout(customerID, billingAddressID, function (data) {\n                console.log('Ass checked out ' + data);\n                formelo.navigation().result();\n            }, function(err){\n                console.log('An error occured '+err);\n            })\n    }\n}());"}},{"layout":"","css":"","name":"instagram","key":"instagram","events":{"ready":"(function(){\n    'use strict';\n    formelo.event().onCreate(function(){\n        \/\/ Entry point of this application\n    });\n\n    formelo.event().onIntent(function(params){\n        var data = params.detail;\n        \/\/ Receive parameters from calling page\n    });\n\n    formelo.event().onClose(function(){\n        \/\/ Override close button\n        \/\/ formelo.navigation.stopPropagation()\n    });\n}());"}},{"layout":"<div id=\"splash-placeholder\">\n    <div class=\"container-xs-height full-vh\">\n    <div class=\"row-xs-height\">\n        <div class=\"col-xs-height col-middle\">\n            <div class=\"error-container text-center\">\n                <h1 class=\"error-number\" style=\"color: grey;\">\n                    <div class=\"progress-circle-indeterminate\"><\/div>\n                    <\/h1>\n                    <h4 style=\"color: grey;\">\n                        Welcome to our Mobile Store\n                    <\/h4>\n                <\/div>\n            <\/div>\n        <\/div>\n    <\/div>\n<\/div>","css":"","name":"splash","key":"splash","events":{"ready":"(function(){\n    'use strict';\n    var config = formelo.require('config');\n    var UserManager = formelo.require('UserManager');\n    var Helpers = formelo.require('Helpers');\n\n    formelo.event().onCreate(function(){\n        \/\/ Entry point of this application\n        checkIfAppletExist();\n        \/\/testSplash();\n    });\n    formelo.event().onIntent(function(params){\n        var data = params.detail;\n        \/\/ Receive parameters from calling page\n    });\n    formelo.event().onClose(function(){\n        \/\/ Override close button\n        \/\/ formelo.navigation.stopPropagation()\n    });\n\n    function checkIfAppletExist(){\n        var appletID = null;\n        if (config.inProductionMode()){\n            appletID = formelo.mAppletID;\n            \/\/showMessage(formelo.mAppletID);\n        } else {\n            appletID = 'dac0d9a0';\n        }\n        var waiting = Helpers.showWaiting('#splash-placeholder');\n        config.isAppletExist(appletID, function(data){\n            console.log(data);\n            waiting.stop();\n            if (data.applet === null){\n                if (!config.inProductionMode()){\n                    return formelo.navigation().openActivity('registration', {userID : 'ddasasasasas'});\n                }\n                if (!config.inPrivateMode()){\n                    return waiting.error('Coming Soon', 'This Store will open very soon. Watch this space')\n                }\n                UserManager.showRegistration(function(data){\n                    formelo.navigation().openActivity('registration', {userID : data.id});\n                }, function(){\n                    formelo.close();\n                });\n            } else {\n                console.log(JSON.stringify(data));\n                config.keys.clientID = data.settings.client_id;\n                config.keys.clientSecret = data.settings.client_secret;\n                config.store.name = data.settings.store_name;\n                if (!config.inProductionMode()){\n                    config.isAdmin = 'ddasasasasas' == data.applet.admin_id;\n                    formelo.navigation().openActivity('home');\n                } else {\n                    config.isAdmin = false; \/\/= userData.id == data.applet.admin_id;\n                    formelo.navigation().openActivity('home');\n                    \/*UserManager.showRegistration(function(userData){\n                        config.isAdmin = userData.id == data.applet.admin_id;\n                        formelo.navigation().openActivity('home');\n                    }, function(err){\n                        console.error(err);\n                        formelo.close();\n                    });*\/\n                }\n            }\n        }, function(err){\n            waiting.error(':(', 'Please Try again later');\n            console.error(err);\n        });\n    }\n\n    function testSplash(){\n        var mod = openModal('Choose an Option', '<div id = \"options\"><\/div>');\n        var data = [{\n            name: 'Settings',\n            description: '',\n            time: '',\n            image: 'http:\/\/img4.cliparto.com\/pic\/s\/196419\/4510978-flat-icon-pictogram-eps-10.jpg',\n            unique: 'uniq'\n        },  {\n            name: 'More',\n            description: '',\n            time: '',\n            image: 'http:\/\/img4.cliparto.com\/pic\/s\/196419\/4510978-flat-icon-pictogram-eps-10.jpg',\n            unique: 'aa'\n        }]\n        optionsAdapter(data, '#options').attach(function(unique){\n            alert(unique);\n            mod.close();\n        })\n    }\n}());"}},{"layout":"<div class=\"form-group form-group-default required\" aria-required=\"true\">\n    <label>Name of your Store<\/label>\n    <input type=\"text\" id=\"register_title\" class=\"form-control\" required=\"\">\n<\/div>\n<div class=\"form-group form-group-default required\" aria-required=\"true\">\n    <label>Client ID<\/label>\n    <input type=\"text\" id=\"register_client_id\" class=\"form-control error\" required=\"\" >\n<\/div>\n<div class=\"form-group form-group-default required\" aria-required=\"true\">\n    <label>Client Secret<\/label>\n    <input type=\"text\" id=\"register_client_secret\" class=\"form-control error\" required=\"\" >\n<\/div>\n","css":".slidedown {\n    background-color: white !important;\n}\n.applet-header-nav-btn {\n    color : black;\n}\na.applet-footer-items.ui-link.ui-btn {\n    background-color: white !important;\n    border: none !important;\n    border-top: 1px solid #ecf0f1 !important;\n}\n.footer-active {\n    color: #c0392b;\n}\n.footer-not-active{\n    color : #34495e;\n}","name":"registration","key":"registration","events":{"ready":"(function(){\n    'use strict';\n    var Helpers = formelo.require('Helpers');\n    var UserManager = formelo.require('UserManager');\n    var config = formelo.require('config');\n\n    var userID = null;\n\n    formelo.event().onCreate(function(){\n        \/\/ Entry point of this application\n        customise();\n        showSaveButton();\n    });\n    formelo.event().onIntent(function(params){\n        userID = params.detail.userID;\n    });\n    formelo.event().onClose(function(){\n        \/\/ Override close button\n        \/\/ formelo.navigation.stopPropagation()\n    });\n\n    function showSaveButton(){\n        var data = [{\n            'icon' : 'fa fa-money',\n            'text' : 'Complete Registration',\n            'link' : null,\n            'active' :  false,\n            'unique' : 'complete'\n        }];\n        formelo.ui().footer(data, function(unique){\n             submit();\n        });\n    }\n    function customise(){\n        formelo.html().get.header.title().html('Setup Your Store');\n    }\n    function getValues(){\n        var appletID = null;\n        if (config.inProductionMode()){\n            appletID = formelo.mAppletID;\n        } else {\n            appletID = 'dac0d9a0';\n        }\n        var client_id = $('#register_client_id').val();\n        var client_secret = $('#register_client_secret').val();\n        var store_name = $('#register_title').val();\n        if (!(client_id && client_secret &&store_name)){\n            throw new Error('Kindly check your form and try again');\n        }\n        return  {\n            client_id : client_id,\n            applet_id : appletID,\n            admin_id : userID,\n            client_secret : client_secret,\n            store_name : store_name\n        };\n    }\n    function submit(){\n        try {\n            var data = getValues();\n            console.log('Posting '+JSON.stringify(data));\n            config.registerApplet(data, function(data){\n                console.log(data);\n                \/\/ Set config values\n                config.keys.clientID = data.settings.client_id;\n                config.keys.clientSecret = data.settings.client_secret;\n                \/\/ Navigate to home page\n                formelo.navigation().openActivity('home');\n            }, function(err){\n                console.error(err);\n            })\n        } catch (e) {\n            alert(e.message);\n        }\n    }\n}());"}}],"exports":{"js":{"footer":{"data":"(function() {\n    var footer = {};\n    var config = formelo.require('config');\n    footer.items = {\n        'home' : {\n            'icon' : 'fa fa-file-picture-o',\n            'text' : 'Store',\n            'link' : null,\n            'active' :  false,\n            'unique' : 'shop'\n        },\n        'cart' : {\n            'icon' : 'fa fa-shopping-cart',\n            'text' : 'My cart',\n            'link' : null,\n            'active' :  false,\n            'unique' : 'cart'\n        },\n        'deals' : {\n            'icon' : 'fa fa-money',\n            'text' : 'Deals',\n            'link' : null,\n            'active' :  false,\n            'unique' : 'deals'\n        },\n        'settings' : {\n            'icon' : 'fa  fa-gear',\n            'text' : 'Settings',\n            'link' : null,\n            'active' :  false,\n            'unique' : 'settings'\n        }\n    };\n    footer.build = function(activeItem){\n        \/\/ Parse data\n        var items = this.items;\n        if (!config.isAdmin){\n            delete items['settings'];\n        }\n        var data = [];\n        for(var key in items) {\n            if (items.hasOwnProperty(key)){\n                items[key]['active'] = key === activeItem;\n                data.push(items[key]);\n            }\n        }\n        formelo.ui().footer(data, function(unique){\n             if (unique === 'cart'){\n                 formelo.navigation().openActivity('cart');\n             } else if (unique === 'shop') {\n                 formelo.navigation().openActivity('home');\n             } else if (unique == 'deals') {\n                 formelo.navigation().openActivity('deals');\n             } else if (unique == 'settings') {\n                 formelo.navigation().openActivity('setup');\n             }\n        });\n    };\n    \/*\n    *  Load properties to this class\n    *  footer.findAll = function(){\n    *      \/\/ Do stuff\n    *  }\n    *\/\n    formelo.exports('footer', footer);\n})();"},"config":{"data":"(function() {\n\n    var config = {};\n    \/*\n    *  Load properties to this class\n    *  config.findAll = function(){\n    *      \/\/ Do stuff\n    *  }\n    *\/\n    config.store = {\n       name : null\n    };\n    config.keys = {\n        clientID : null,\n        clientSecret : null,\n        xclientID : '14nNKisLLvQ65xGrdWTLXnbDw2k09NpVNxARscrMEC',\n        xclientSecret : 'bGLJchUtx3gSXVcqUDaiV7KIyFFSIlBv3gjtUcYhl9'\n    };\n    config.isAdmin = false;\n    config.getStoreEndpoint = function(){\n        return config.inProductionMode() ? \"http:\/\/abc191a7.ngrok.io\/api\/\" : \"http:\/\/localhost:8000\/api\/\";\n    };\n    config.inProductionMode = function(){\n        return true;\n    };\n    config.isFirstTime = function(){\n        return false;\n    };\n    config.network = function(endpoint, _data, _method){\n        var data    = _data      || {};\n        var method  = _method    || 'GET';\n        var txDeferred = $.Deferred();\n        $.ajax({\n            url : endpoint,\n            type : method,\n            data : data,\n            cache: false,\n            success : function(data){\n                txDeferred.resolve(data);\n            },\n            error: function(xhr){\n                console.log(xhr);\n                txDeferred.reject(xhr);\n            },\n            timeout: TIMEOUT\n        });\n        return txDeferred.promise();\n    };\n    config.isAppletExist = function(appletID, successCB, errorCB){\n        var url = config.getStoreEndpoint()+\"applet\/\"+appletID+'\/';\n        config.network(url, {}, 'GET')\n            .done(function(data){\n                successCB(data);\n            })\n            .fail(function(err){\n                errorCB(err);\n            });\n    };\n    config.registerApplet = function(data, successCB, errorCB){\n        var url = config.getStoreEndpoint()+\"applet\/create\";\n        config.network(url, data, 'POST')\n            .done(function(data){\n                successCB(data);\n            })\n            .fail(function(err){\n                errorCB(err);\n            });\n    };\n    config.appletID = \"moltin\";\n    config.inPrivateMode = function(){\n        \/\/ TODO Change this\n        return false;\n        return formelo.getMode() == \"private\";\n    };\n    formelo.exports('config', config);\n})();"},"MoltinManager":{"data":"(function() {\n    var config = formelo.require('config');\n    \/\/var Helpers = formelo.require('Helpers');\n    var MoltinManager = {\n        authenticated : false\n    };\n    \/*\n    *  Load properties to this class\n    *  MoltinManager.findAll = function(){\n    *      \/\/ Do stuff\n    *  }\n    *\/\n    MoltinManager.authenticate = function(callback, errorCB){\n        MoltinManager.moltin = new Moltin({publicId: config.keys.clientID});\n        MoltinManager.moltin.Authenticate(callback, errorCB, config.keys.clientSecret);\n    };\n    MoltinManager.moltin = null;\n    MoltinManager.access_token  = null;\n    MoltinManager.network = function(endpoint, _data, _method){\n        var data    = _data      || {};\n        var method  = _method    || 'GET';\n        var txDeferred = $.Deferred();\n        var headers = {};\n        headers['Authorization'] = 'Bearer ' + MoltinManager.access_token;\n        $.ajax({\n                url : endpoint,\n                type : method,\n                data : data,\n                cache: false,\n                headers: headers,\n                success : function(data){\n                    txDeferred.resolve(data);\n                },\n                error: function(xhr){\n                    console.log(xhr);\n                    txDeferred.reject(xhr);\n                },\n                timeout: TIMEOUT\n            });\n        return txDeferred.promise();\n    };\n    MoltinManager.validate = function(data, validationArray) {\n        \/\/ Using the set of rules, validate that\n        validationArray.forEach(function(item){\n             if (data[item] === undefined){\n                 throw new Error(item + ' key not found.');\n             }\n        });\n    };\n    MoltinManager.categories = {\n        create : function(data, successCB, errorCB) {\n            var url = 'https:\/\/api.molt.in\/v1\/categories';\n            MoltinManager.validate(data, ['slug', 'status', 'title', 'description']);\n            MoltinManager.network(url, data, 'POST')\n                .done(function(data){\n                    successCB(data);\n                })\n                .fail(function(err){\n                    errorCB(err);\n                });\n        },\n        getAll : function(successCB, errorCB) {\n            MoltinManager.moltin.Category.List(null, function(category) {\n                console.log(category);\n                successCB(category);\n            }, function(error) {\n                console.log(error);\n                errorCB(error);\n            });\n            \/*var url = 'https:\/\/api.molt.in\/v1\/categories';\n            MoltinManager.network(url, null, 'GET')\n                .done(function(data){\n                    console.log(data);\n                    successCB(data.result);\n                })\n                .fail(function(err){\n                    errorCB(err);\n                });\n                *\/\n        }\n    };\n    MoltinManager.products = {\n        create : function(data, successCB, errorCB){\n            var url = 'https:\/\/api.molt.in\/v1\/products';\n            MoltinManager.validate(data, [\n                'sku', 'title', 'slug', 'price', 'category', 'stock_level', 'stock_status',\n                'description', 'requires_shipping', 'catalog_only', 'tax_band', 'status'\n            ]);\n             MoltinManager.network(url, data, 'POST')\n             .done(function(data){\n                 console.log(data);\n                 successCB(data.result);\n             })\n             .fail(function(err){\n                errorCB(err);\n             });\n        },\n        getProductsByCategory : function(id, successCB, errorCB){\n            MoltinManager.moltin.Product.Search({category: id, status: 1}, function(products) {\n                console.log(products);\n                successCB(products);\n            }, function(error) {\n                console.log(error);\n                errorCB(error);\n            });\n        },\n        getProductByID : function(id, successCB, errorCB){\n            MoltinManager.moltin.Product.Get(id, function(product) {\n                console.log(product);\n                successCB(product);\n            }, function(error) {\n                \/\/ Something went wrong...\n                errorCB(error);\n            });\n        },\n        updateProduct : function(){\n\n        },\n        deleteProduct : function(){\n\n        }\n    };\n    MoltinManager.customers = {\n        getAddressForCustomer : function(customerID, successCB, errorCB){\n            MoltinManager.moltin.Address.List(customerID, null, successCB, errorCB);\n        },\n        createAddress : function(customerID, data, successCB, errorCB){\n            MoltinManager.validate(data, ['save_as', 'first_name', 'last_name', 'address_1', 'city', 'county', 'postcode', 'country']);\n            var url = \"https:\/\/api.molt.in\/v1\/customers\/1360266015535006081\/addresses\";\n            MoltinManager.network(url, data, 'POST')\n                .done(function(data){\n                    console.log(data);\n                    successCB(data);\n                })\n                .fail(function(err){\n                    errorCB(err);\n                });\n            \/\/ MoltinManager.moltin.Address.Create(customerID, data, successCB, errorCB);\n        },\n        create : function(data, successCB, errorCB){\n            MoltinManager.validate(data, ['first_name', 'last_name', 'email']);\n            var url = 'https:\/\/api.molt.in\/v1\/customers';\n            MoltinManager.network(url, data, 'POST')\n                .done(function(data){\n                    console.log(data);\n                    successCB(data.result);\n                })\n                .fail(function(err){\n                    errorCB(err);\n                });\n        },\n        login : function(email, password, successCB, errorCB){\n            var url = 'https:\/\/api.molt.in\/v1\/customers\/token';\n            var data = {\n                email : email,\n                password : password\n            };\n            MoltinManager.network(url, data, 'POST')\n                .done(function(data){\n                    console.log(data);\n                    successCB(data.result);\n                })\n                .fail(function(err){\n                    errorCB(err);\n                });\n        },\n        getProductsByCategory : function(id, successCB, errorCB){\n            MoltinManager.moltin.Product.Search({category: id, status: 1}, function(products) {\n                console.log(products);\n                successCB(products);\n            }, function(error) {\n                console.log(error);\n                errorCB(error);\n            });\n        },\n        getProductByID : function(id, successCB, errorCB){\n            MoltinManager.moltin.Product.Get(id, function(product) {\n                console.log(product);\n                successCB(product);\n            }, function(error) {\n                \/\/ Something went wrong...\n                errorCB(error);\n            });\n        },\n        updateProduct : function(){\n\n        },\n        deleteProduct : function(){\n\n        }\n    };\n    MoltinManager.cart = {\n        addToCart : function(customerID, productID, quantity, successCB, errorCB){\n            var url = 'https:\/\/api.molt.in\/v1\/carts\/'+customerID;\n            var data = {\n                'quantity' : quantity,\n                'id' : productID\n            };\n            MoltinManager.validate(data, ['id', 'quantity']);\n            MoltinManager.network(url, data, 'POST')\n                .done(function(data){\n                    console.log(data);\n                    successCB(data);\n                })\n                .fail(function(err){\n                    errorCB(err);\n                });\n        },\n        removeFromCart : function(customerID, productID, successCB, errorCB){\n            var url = 'https:\/\/api.molt.in\/v1\/carts\/'+customerID+'\/item\/'+productID;\n            MoltinManager.network(url, {}, 'DELETE')\n                .done(function(data){\n                    console.log(data);\n                    successCB(data);\n                })\n                .fail(function(err){\n                    errorCB(err);\n                });\n        },\n        getItemsInCart : function(customerID, successCB, errorCB){\n            var url = 'https:\/\/api.molt.in\/v1\/carts\/'+customerID;\n            MoltinManager.network(url)\n                .done(function(data){\n                    console.log(data);\n                    successCB(data.result);\n                })\n                .fail(function(err){\n                    console.log(err);\n                    errorCB(err);\n                });\n        },\n        checkout : function(customerID, billingData, successCB, errorCB) {\n            var url = 'https:\/\/api.molt.in\/v1\/carts\/'+customerID+'\/checkout';\n            var data = {\n                'customer' : customerID+'',\n                'gateway'   : 'manual',\n                'bill_to'   : billingData,\n                'shipping' : '1363262712942953145',\n                'ship_to' : 'bill_to'\n            };\n            \/\/MoltinManager.moltin.Cart.Complete(data, successCB, errorCB);\n            MoltinManager.validate(data, ['gateway', 'bill_to']);\n            MoltinManager.network(url, data, 'POST')\n                .done(function(data){\n                    console.log(data);\n                    successCB(data);\n                })\n                .fail(function(err){\n                    errorCB(err);\n                });\n        },\n        isProductInCart : function(productID, cartID, successCB, errorCB){\n            var url = 'https:\/\/api.molt.in\/v1\/carts\/'+cartID+'\/has\/'+productID;\n            MoltinManager.network(url)\n                .done(function(data){\n                    \/\/console.log(data);\n                    successCB(data.result);\n                })\n                .fail(function(err){\n                    \/\/console.log(err);\n                    errorCB(err);\n                });\n        },\n        deleteItemFromCart : function(productID, cartID, successCB, errorCB){\n            var url = 'https:\/\/api.molt.in\/v1\/carts\/'+cartID+'\/item\/'+productID;\n            \/\/var url = 'https:\/\/api.molt.in\/v1\/carts\/'+cartID+'\/has\/'+productID;\n            MoltinManager.network(url, {}, 'DELETE')\n                .done(function(data){\n                    \/\/console.log(data);\n                    successCB(data.result);\n                })\n                .fail(function(err){\n                    \/\/console.log(err);\n                    errorCB(err);\n                });\n        }\n    };\n    MoltinManager.orders = {\n        listAllOrders : function(successCB, errorCB){\n            var url = 'https:\/\/api.molt.in\/v1\/orders';\n            MoltinManager.network(url, {}, 'GET')\n                .done(function(data){\n                    \/\/console.log(data);\n                    successCB(data.result);\n                })\n                .fail(function(err){\n                    errorCB(err);\n                });\n        },\n        getItemsInCart : function(customerID, successCB, errorCB){\n            var url = 'https:\/\/api.molt.in\/v1\/carts\/'+customerID;\n            MoltinManager.network(url)\n                .done(function(data){\n                    console.log(data);\n                    successCB(data.result.contents);\n                })\n                .fail(function(err){\n                    console.log(data);\n                    errorCB(err);\n                });\n        }\n    };\n    formelo.exports('MoltinManager', MoltinManager);\n})();"},"UserManager":{"data":"(function() {\n    var config  = formelo.require('config');\n    var MoltinManager = formelo.require('MoltinManager');\n    var UserManager = {};\n    \/*\n    *  Load properties to this class\n    *  UserManager.findAll = function(){\n    *      \/\/ Do stuff\n    *  }\n    *\/\n    UserManager.isLoggedIn = function(){\n        return false;\n    };\n    UserManager.users = {\n        current : null,\n        data : {}\n    };\n    UserManager.initialized = false;\n    UserManager.init = function(callback){\n        if (UserManager.initialized === true){\n            console.log('Config already initialized');\n            return callback();\n        }\n        \/\/ Get config from Formelo -- Oonly available in production\n        if (config.inProductionMode()){\n            formelo.storage().get(config.appletID+'_users', function(data){\n                if (data){\n                    console.log('Initialized user config');\n                    UserManager.users = data;\n                    UserManager.initialized = true;\n                } else {\n                    console.log('Date not found'.data);\n                }\n                callback();\n            }, function(){\n                console.log('Error initializing user config');\n                callback();\n            });\n        } else {\n            callback();\n        }\n\n    };\n    UserManager.save = function(){\n        if (config.inProductionMode()){\n            formelo.storage().set(config.appletID+'_users', UserManager.users, function(data){\n                console.log('Saved user config');\n            }, function(err){\n                console.log('Error saving user config '+err);\n            });\n        }\n    };\n    UserManager.getUser = function(successCB, errorCB){\n        \/\/ Generate fictitious data\n        var data = {\n            id : \"fksndlkmds\",\n            email : \"dante@gmail.com\"\n        }\n    };\n    UserManager.isAdmin = function(){\n\n    };\n    UserManager.getUserProfile = function(id, callback){\n        callback(UserManager.users.data[id]);\n    };\n    UserManager.getAllUsers = function(callback){\n        callback(UserManager.users.data);\n    };\n    UserManager.addUser = function(id, obj, _successCB, _errorCB){\n        var errorCB = _errorCB || function(){};\n        var successCB = _successCB || function(){};\n        if (!(id && obj)) {\n            return errorCB('No ID or user object');\n        }\n        UserManager.users.data[id] = obj;\n        UserManager.save();\n        successCB();\n    };\n    UserManager.getCurrentUser = function(callback){\n        return UserManager.users.data[UserManager.users.current];\n    };\n    UserManager.setCurrentUser = function(id){\n        UserManager.users.current = id;\n        UserManager.save();\n    };\n    UserManager.isUserExist = function(id){\n        if (!id) {\n            \/\/ Check if any user exist at all\n            return UserManager.users.data.length ? true : false;\n        }\n        return UserManager.users.data[id] ? true : false;\n    };\n    UserManager.currentUser = null;\n    UserManager.authenticate = function(userData, successCB, errorCB){\n        userData['password'] = \"S0ftware!\";\n        MoltinManager.customers.create(userData, function(data){\n            console.log(data);\n            UserManager.currentUser = data;\n            successCB(data);\n        }, function (err) {\n            console.log(err);\n            if (err.status == '406'){\n                console.log('Authenticating users');\n                MoltinManager.customers.login(userData.email, userData.password, function(data){\n                    console.log(data);\n                    var newUser = {\n                        first_name : data.first_name,\n                        last_name : data.last_name,\n                        email : data.email,\n                        id : data.id\n                    };\n                    UserManager.currentUser = newUser;\n                    successCB(newUser)\n                }, function(err){\n                    console.log(err);\n                    errorCB(err);\n                })\n            } else {\n                errorCB();\n            }\n        });\n    };\n    UserManager.showRegistration = function(callback, errorCB){\n        if (UserManager.currentUser !== null){\n            return callback(UserManager.currentUser);\n        }\n        if (config.inPrivateMode()){\n            \/\/ Private mode;\n            \/\/ Fetch applet details from server\n            return callback({id : \"dsdnsdweosdnjd2323\"});\n        } else {\n            if (config.inProductionMode()){\n                \/\/ TODO implement native version\n                formelo.profile().getProfile(function(data){\n                    console.log(JSON.stringify(data));\n                    var userData = {\n                        first_name : data.name,\n                        last_name : data.name,\n                        email : data.email\n                    };\n                    UserManager.authenticate(userData, callback, errorCB);\n                }, errorCB);\n            } else {\n                var first_name = window.prompt('What is your firstname');\n                var last_name = window.prompt('What is your lastname');\n                var email = window.prompt('What is your email address');\n                var userData = {\n                    first_name : first_name,\n                    last_name : last_name,\n                    email : email\n                };\n                UserManager.authenticate(userData, callback, errorCB);\n            }\n        }\n    };\n    formelo.exports('UserManager', UserManager);\n})();"},"Helpers":{"data":"(function() {\n\n    var Helpers = {};\n    \/*\n    *  Load properties to this class\n    *  Helpers.findAll = function(){\n    *      \/\/ Do stuff\n    *  }\n    *\/\n    Helpers.showWaiting = function(placeholder){\n        var previousHtml = $(placeholder).html();\n        var loadingHtml =   '<div class=\"container-xs-height full-vh\">' +\n            '<div class=\"row-xs-height\">'+\n            '<div class=\"col-xs-height col-middle\">'+\n            '<div class=\"error-container text-center\">'+\n            '<h1 class=\"error-number\" style=\"color: grey;\">' +\n            '<div class=\"progress-circle-indeterminate\"><\/div>' +\n            '<\/h1>'+\n            '<\/div>'+\n            '<\/div>'+\n            '<\/div>'+\n            '<\/div>';\n        var errorHtml = function(title, message) {\n            var title   = title || '';\n            var message = message || '';\n            return  '<div class=\"container-xs-height full-vh\">' +\n                '<div class=\"row-xs-height\">'+\n                '<div class=\"col-xs-height col-middle\">'+\n                '<div class=\"error-container text-center\">'+\n                '<h1 class=\"error-number\" style=\"color: grey;\">' +\n                title +\n                '<\/h1>'+\n                '<h2 style=\"color: grey;\">' +\n                message +\n                '<\/h2>'+\n                '<\/div>'+\n                '<\/div>'+\n                '<\/div>'+\n                '<\/div>';\n        }\n        $(placeholder).html(loadingHtml);\n        return {\n            stop : function(){\n                $(placeholder).html(previousHtml);\n            },\n            error : function(title, message){\n                $(placeholder).html(errorHtml(title, message));\n            }\n        }\n    };\n    Helpers.showEmptyState = function(placeholder, title, message){\n        var previousHtml = $(placeholder).html();\n        var title  = title || 'Empty';\n        var message  = message || 'Nothing Here';\n        var loadingHtml =   '<div class=\"container-xs-height full-vh\">' +\n            '<div class=\"row-xs-height\">'+\n            '<div class=\"col-xs-height col-middle\">'+\n            '<div class=\"error-container text-center\">'+\n            '<h1 class=\"error-number\" style=\"color: grey;\">'+title+'<\/h1>'+\n            '<h3 style=\"color: grey;\">'+message+'<\/h3>'+\n            '<\/div>'+\n            '<\/div>'+\n            '<\/div>'+\n            '<\/div>';\n        $(placeholder).html(loadingHtml);\n    }\n    Helpers.str_random = function(){\n        var text = \"\";\n        var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n        for( var i=0; i < 5; i++ ) {\n            text += possible.charAt(Math.floor(Math.random() * possible.length));\n        }\n        return text;\n    };\n    formelo.exports('Helpers', Helpers);\n})();"}}},"imports":{"js":{"moltin":{"data":"var Moltin,\n    __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; },\n    __hasProp = {}.hasOwnProperty,\n    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\nMoltin = (function() {\n  \"use strict\";\n  var Abstract, Address, Brand, Cache, Cart, Category, Checkout, Collection, Currency, Customer, CustomerGroup, Email, Entry, Field, Flow, Gateway, Language, Modifier, Order, Payment, Product, Promotion, Shipping, Stats, Storage, Tax, Transaction, Variation, Webhook;\n\n  Moltin.prototype.options = {\n    publicId: '',\n    secretKey: '',\n    auth: {},\n    url: 'api.molt.in',\n    version: 'v1',\n    debug: false,\n    currency: false,\n    language: false,\n    methods: ['GET', 'POST', 'PUT', 'DELETE'],\n    notice: function(type, msg) {\n      return console.log(type + \": \" + msg);\n    }\n  };\n\n  function Moltin(overrides) {\n    this.options = this.Merge(this.options, overrides);\n    this.Storage = new Storage;\n    this.Address = new Address(this);\n    this.Brand = new Brand(this);\n    this.Cart = new Cart(this);\n    this.Category = new Category(this);\n    this.Checkout = new Checkout(this);\n    this.Collection = new Collection(this);\n    this.Currency = new Currency(this);\n    this.Entry = new Entry(this);\n    this.Gateway = new Gateway(this);\n    this.Language = new Language(this);\n    this.Order = new Order(this);\n    this.Product = new Product(this);\n    this.Shipping = new Shipping(this);\n    this.Tax = new Tax(this);    if (this.Storage.get('mcurrency')) {\n      this.options.currency = this.Storage.get('mcurrency');\n    }\n    if (this.Storage.get('mlanguage')) {\n      this.options.language = this.Storage.get('mlanguage');\n    }\n  }\n\n  Moltin.prototype.Merge = function(o1, o2) {\n    var k, o3, v;\n    o3 = {};\n    for (k in o1) {\n      v = o1[k];\n      o3[k] = v;\n    }\n    for (k in o2) {\n      v = o2[k];\n      o3[k] = v;\n    }\n    return o3;\n  };\n\n  Moltin.prototype.InArray = function(key, arr) {\n    if (!arr || __indexOf.call(arr, key) < 0) {\n      return false;\n    }\n    return true;\n  };\n\n  Moltin.prototype.Serialize = function(obj, prefix) {\n    var k, str, v;\n    if (prefix == null) {\n      prefix = null;\n    }\n    str = [];\n    for (k in obj) {\n      v = obj[k];\n      k = prefix !== null ? prefix + '[' + k + ']' : k;\n      str.push(typeof v === 'object' ? this.Serialize(v, k) : encodeURIComponent(k) + '=' + encodeURIComponent(v));\n    }\n    return str.join('&');\n  };\n\n  Moltin.prototype.Error = function(response) {\n    var k, msg, v, _ref;\n    msg = '';\n    if (typeof response.errors !== 'undefind') {\n      _ref = response.errors;\n      for (k in _ref) {\n        v = _ref[k];\n        msg += v + '<br \/>';\n      }\n    } else {\n      msg = response.error;\n    }\n    return this.options.notice('Error', msg);\n  };\n\n  Moltin.prototype.Authenticate = function(callback, error, secret) {\n    var data, _e;\n    if (this.options.publicId.length <= 0) {\n      if (typeof error === 'function') {\n        error('error', 'Public ID must be set', 401);\n      }\n    }    if (this.Storage.get('mtoken') !== null && parseInt(this.Storage.get('mexpires')) > Date.now()) {\n      this.options.auth = {\n        expires: parseInt(this.Storage.get('mexpires')) * 1000,\n        token: this.Storage.get('mtoken')\n      };\n      if (typeof callback === 'function') {\n        callback(this.options.auth);\n      }      _e = document.createEvent('CustomEvent');\n      _e.initCustomEvent('MoltinReady', false, false, this);\n      window.dispatchEvent(_e);      return this;\n    }    data = {\n      grant_type: 'client_credentials',\n      client_id: this.options.publicId,\n      client_secret : secret\n    };    this.Ajax({\n      method: 'POST',\n      path: '\/oauth\/access_token',\n      data: data,\n      async: typeof callback === 'function' ? true : false,\n      headers: {\n        'Content-Type': 'application\/x-www-form-urlencoded'\n      },\n      success: (function(_this) {\n        return function(r, c, e) {\n          _this.Storage.set('mexpires', r.expires);\n          _this.Storage.set('mtoken', r.token_type + ' ' + r.access_token);\n          _this.options.auth = {\n            expires: parseInt(_this.Storage.get('mexpires')) * 1000,\n            token: _this.Storage.get('mtoken')\n          };\n          if (typeof callback === 'function') {\n            callback(r);\n          }          _e = document.createEvent('CustomEvent');\n          _e.initCustomEvent('MoltinReady', false, false, _this);\n          window.dispatchEvent(_e);\n          return        };\n      })(this),\n      error: (function(_this) {\n        return function(e, c, r) {\n          if (typeof error === 'function') {\n            return error('error', 'Authorization failed', 401);\n          }\n        };\n      })(this)\n    });\n    return this;\n  };\n\n  Moltin.prototype.Request = function(uri, method, data, callback, error) {\n    var _data, _headers;\n    if (method == null) {\n      method = 'GET';\n    }\n    if (data == null) {\n      data = null;\n    }\n    _data = {};\n    _headers = {\n      'Content-Type': 'application\/x-www-form-urlencoded',\n      'Authorization': this.options.auth.token\n    };\n    if (this.options.auth.token === null) {\n      if (typeof error === 'function') {\n        error('error', 'You much authenticate first', 401);\n      }\n    }\n    if (Date.now() >= this.options.auth.expires) {\n      this.Authenticate(null, error);\n    }\n    if (!this.InArray(method, this.options.methods)) {\n      if (typeof error === 'function') {\n        error('error', 'Invalid request method (' + method + ')', 400);\n      }\n    }\n    if (this.options.currency) {\n      _headers['X-Currency'] = this.options.currency;\n    }\n    if (this.options.language) {\n      _headers['X-Language'] = this.options.language;\n    }\n    this.Ajax({\n      method: method,\n      path: uri,\n      data: data,\n      async: typeof callback === 'function' ? true : false,\n      headers: _headers,\n      success: (function(_this) {\n        return function(r, c, e) {\n          if (typeof callback === 'function') {\n            return callback(r.result, typeof r.pagination !== 'undefined' ? r.pagination : null);\n          } else {\n            return _data = r;\n          }\n        };\n      })(this),\n      error: (function(_this) {\n        return function(r, c, e) {\n          if (r.status === false) {\n            if (typeof error === 'function') {\n              error('error', (typeof r.errors !== 'undefined' ? r.errors : r.error), c);\n            } else {\n              _this.Error((typeof r.errors !== 'undefined' ? r.errors : r.error));\n            }\n          }\n          return _data = r;\n        };\n      })(this)\n    });\n    if (typeof callback === 'undefined') {\n      return _data.result;\n    }\n  };\n\n  Moltin.prototype.Ajax = function(options) {\n    var args, e, k, request, timeout, v, _ref;\n    args = {\n      method: 'GET',\n      async: false,\n      data: null,\n      timeout: 60000,\n      headers: {},\n      host: this.options.url,\n      port: 443,\n      path: '\/',\n      success: function(response, status, request) {},\n      error: function(response, status, request) {}\n    };\n    args = this.Merge(args, options);\n    args.method = args.method.toUpperCase();\n    try {\n      request = new XMLHttpRequest();\n    } catch (_error) {\n      e = _error;\n      try {\n        request = new ActiveXObject(\"Msxml2.XMLHTTP\");\n      } catch (_error) {\n        e = _error;\n        return false;\n      }\n    }\n    args.url = (args.port === 443 ? 'https:\/\/' : 'http:\/\/') + args.host + (args.path.substr(0, 1) !== '\/' ? '\/' + this.options.version + '\/' + args.path : args.path);\n    if (args.method === 'GET') {\n      args.url += '?' + this.Serialize(args.data);\n      args.data = null;\n    } else {\n      args.data = this.Serialize(args.data);\n    }\n    request.open(args.method, args.url, args.async);\n    timeout = setTimeout((function(_this) {\n      return function() {\n        request.abort();\n        return args.error(request, 408, 'Your request timed out');\n      };\n    })(this), args.timeout);\n    _ref = args.headers;\n    for (k in _ref) {\n      v = _ref[k];\n      request.setRequestHeader(k, v);\n    }\n    request.onreadystatechange = function() {\n      var response;\n      if (request.readyState !== 4) {\n        return null;\n      }\n      clearTimeout(timeout);\n      response = JSON.parse(request.responseText);\n      if (request.status.toString().charAt(0) !== '2') {\n        return args.error(response, request.status, request);\n      } else {\n        return args.success(response, request.status, request);\n      }\n    };\n    return request.send(args.data);\n  };\n\n  Storage = (function() {\n    function Storage() {}\n\n    Storage.prototype.set = function(key, value, days) {\n      var date, expires;\n      expires = \"\";\n      if (days) {\n        date = new Date;\n        date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\n        expires = \"; expires=\" + date.toGMTString();\n      }\n      return document.cookie = key + \"=\" + value + expires + \"; path=\/\";\n    };\n\n    Storage.prototype.get = function(key) {\n      var c, _i, _len, _ref;\n      key = key + \"=\";\n      _ref = document.cookie.split(';');\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        c = _ref[_i];\n        while (c.charAt(0) === ' ') {\n          c = c.substring(1, c.length);\n        }\n        if (c.indexOf(key) === 0) {\n          return c.substring(key.length, c.length);\n        }\n      }\n      return null;\n    };\n\n    Storage.prototype.remove = function(key) {\n      return this.set(key, '', -1);\n    };\n\n    return Storage;\n\n  })();\n\n  Abstract = (function() {\n    function Abstract(m) {\n      this.m = m;\n    }\n\n    Abstract.prototype.Get = function(id, callback, error) {\n      return this.m.Request(this.endpoint + '\/' + id, 'GET', null, callback, error);\n    };\n\n    Abstract.prototype.Find = function(terms, callback, error) {\n      return this.m.Request(this.endpoint, 'GET', terms, callback, error);\n    };\n\n    Abstract.prototype.List = function(terms, callback, error) {\n      return this.m.Request(this.endpoint, 'GET', terms, callback, error);\n    };\n\n    Abstract.prototype.Fields = function(id, callback, error) {\n      var uri;\n      if (id == null) {\n        id = 0;\n      }\n      uri = this.endpoint + '\/' + (id !== 0 ? id + '\/fields' : 'fields');\n      return this.m.Request(uri, 'GET', null, callback, error);\n    };\n    return Abstract;\n\n  })();\n\n  Address = (function() {\n    function Address(m) {\n      this.m = m;\n    }\n\n    Address.prototype.Get = function(customer, id, callback, error) {\n      return this.m.Request('customers\/' + customer + '\/addresses\/' + id, 'GET', null, callback, error);\n    };\n\n    Address.prototype.Find = function(customer, terms, callback, error) {\n      return this.m.Request('customers\/' + customer + '\/addresses', 'GET', terms, callback, error);\n    };\n\n    Address.prototype.List = function(customer, terms, callback, error) {\n      return this.m.Request('customers\/' + customer + '\/addresses', 'GET', terms, callback, error);\n    };\n\n    Address.prototype.Create = function(customer, data, callback, error) {\n      return this.m.Request('customers\/' + customer + '\/addresses', 'POST', data, callback, error);\n    };\n\n    Address.prototype.Fields = function(customer, id, callback, error) {\n      var uri;\n      if (customer == null) {\n        customer = 0;\n      }\n      if (id == null) {\n        id = 0;\n      }\n      if (customer > 0 && id <= 0) {\n        uri = 'customers\/' + customer + '\/addresses\/fields';\n      } else if (customer > 0 && id > 0) {\n        uri = 'customers\/' + customer + '\/addresses\/' + id + '\/fields';\n      } else {\n        uri = 'addresses\/fields';\n      }\n      return this.m.Request(uri, 'GET', null, callback, error);\n    };\n    return Address;\n\n  })();\n\n  Brand = (function(_super) {\n    __extends(Brand, _super);\n\n    function Brand() {\n      return Brand.__super__.constructor.apply(this, arguments);\n    }\n\n    Brand.prototype.endpoint = 'brands';\n\n    return Brand;\n\n  })(Abstract);\n  Cart = (function() {\n    function Cart(m) {\n      this.m = m;\n      this.cartId = this.Identifier();\n    }\n\n    Cart.prototype.Identifier = function(reset, id) {\n      if (reset == null) {\n        reset = false;\n      }\n      if (id == null) {\n        id = false;\n      }\n      if (!reset && !id && this.m.Storage.get('mcart') !== null) {\n        return this.m.Storage.get('mcart');\n      }\n      if (!id) {\n        id = 'xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx'.replace(\/[x]\/g, function(c) {\n          return (Math.random() * 16 | 0).toString(16);\n        });\n      }\n      this.m.Storage.set('mcart', id);\n      this.cartId = id;\n      return id;\n    };\n\n    Cart.prototype.Contents = function(callback, error) {\n      return this.m.Request('carts\/' + this.cartId, 'GET', null, callback, error);\n    };\n\n    Cart.prototype.Insert = function(id, qty, mods, callback, error) {\n      if (qty == null) {\n        qty = 1;\n      }\n      if (mods == null) {\n        mods = null;\n      }\n      return this.m.Request('carts\/' + this.cartId, 'POST', {\n        id: id,\n        quantity: qty,\n        modifier: mods\n      }, callback, error);\n    };\n\n    Cart.prototype.Update = function(id, data, callback, error) {\n      return this.m.Request('carts\/' + this.cartId + '\/item\/' + id, 'PUT', data, callback, error);\n    };\n\n    Cart.prototype.Delete = function(callback, error) {\n      return this.m.Request('carts\/' + this.cartId, 'DELETE', null, callback, error);\n    };\n\n    Cart.prototype.Remove = function(id, callback, error) {\n      return this.m.Request('carts\/' + this.cartId + '\/item\/' + id, 'DELETE', null, callback, error);\n    };\n\n    Cart.prototype.Item = function(id, callback, error) {\n      return this.m.Request('carts\/' + this.cartId + '\/item\/' + id, 'GET', null, callback, error);\n    };\n\n    Cart.prototype.InCart = function(id, callback, error) {\n      return this.m.Request('carts\/' + this.cartId + '\/has\/' + id, 'GET', null, callback, error);\n    };\n\n    Cart.prototype.Checkout = function(callback, error) {\n      return this.m.Request('carts\/' + this.cartId + '\/checkout', 'GET', null, callback, error);\n    };\n\n    Cart.prototype.Complete = function(data, callback, error) {\n      return this.m.Request('carts\/' + this.cartId + '\/checkout', 'POST', data, callback, error);\n    };\n\n    Cart.prototype.Discount = function(code, callback, error) {\n      if (code === null || code === false) {\n        return this.m.Request('carts\/' + this.cartId + '\/discount', 'DELETE', null, callback, error);\n      }\n      return this.m.Request('carts\/' + this.cartId + '\/discount', 'POST', {\n        code: code\n      }, callback, error);\n    };\n    return Cart;\n\n  })();\n\n  Category = (function(_super) {\n    __extends(Category, _super);\n\n    function Category() {\n      return Category.__super__.constructor.apply(this, arguments);\n    }\n\n    Category.prototype.endpoint = 'categories';\n\n    Category.prototype.Tree = function(terms, callback, error) {\n      return this.m.Request(this.endpoint + '\/tree', 'GET', terms, callback, error);\n    };\n    return Category;\n\n  })(Abstract);\n\n  Checkout = (function() {\n    function Checkout(m) {\n      this.m = m;\n    }\n\n    Checkout.prototype.Payment = function(method, order, data, callback, error) {\n      return this.m.Request('checkout\/payment\/' + method + '\/' + order, 'POST', data, callback, error);\n    };\n\n    return Checkout;\n\n  })();\n\n  Collection = (function(_super) {\n    __extends(Collection, _super);\n\n    function Collection() {\n      return Collection.__super__.constructor.apply(this, arguments);\n    }\n\n    Collection.prototype.endpoint = 'collections';\n\n    return Collection;\n\n  })(Abstract);\n\n  Currency = (function(_super) {\n    __extends(Currency, _super);\n\n    function Currency() {\n      return Currency.__super__.constructor.apply(this, arguments);\n    }\n\n    Currency.prototype.endpoint = 'currencies';\n\n    Currency.prototype.Set = function(code, callback, error) {\n      this.m.Storage.set('mcurrency', code);\n      this.m.options.currency = code;\n      if (typeof callback === 'function') {\n        return callback(code);\n      }\n    };\n\n    return Currency;\n\n  })(Abstract);\n  Entry = (function() {\n    function Entry(m) {\n      this.m = m;\n    }\n\n    Entry.prototype.Get = function(flow, id, callback, error) {\n      return this.m.Request('flows\/' + flow + '\/entries\/' + id, 'GET', null, callback, error);\n    };\n\n    Entry.prototype.Find = function(flow, terms, callback, error) {\n      return this.m.Request('flows\/' + flow + '\/entries\/search', 'GET', terms, callback, error);\n    };\n\n    Entry.prototype.List = function(flow, terms, callback, error) {\n      return this.m.Request('flows\/' + flow + '\/entries', 'GET', terms, callback, error);\n    };\n    return Entry;\n\n  })();\n  Gateway = (function() {\n    function Gateway(m) {\n      this.m = m;\n    }\n\n    Gateway.prototype.Get = function(slug, callback, error) {\n      return this.m.Request('gateways\/' + slug, 'GET', null, callback, error);\n    };\n\n    Gateway.prototype.List = function(terms, callback, error) {\n      return this.m.Request('gateways', 'GET', terms, callback, error);\n    };\n    return Gateway;\n\n  })();\n\n  Language = (function() {\n    function Language(m) {\n      this.m = m;\n    }\n\n    Language.prototype.Set = function(code, callback, error) {\n      this.m.Storage.set('mlanguage', code);\n      this.m.options.language = code;\n      if (typeof callback === 'function') {\n        return callback(code);\n      }\n    };\n\n    return Language;\n\n  })();\n  Order = (function(_super) {\n    __extends(Order, _super);\n\n    Order.prototype.endpoint = 'orders';\n\n    function Order(m) {\n      this.m = m;\n    }\n    return Order;\n\n  })(Abstract);\n  Product = (function(_super) {\n    __extends(Product, _super);\n\n    function Product() {\n      return Product.__super__.constructor.apply(this, arguments);\n    }\n\n    Product.prototype.endpoint = 'products';\n\n    Product.prototype.Search = function(terms, callback, error) {\n      return this.m.Request(this.endpoint + '\/search', 'GET', terms, callback, error);\n    };\n\n    Product.prototype.Modifiers = function(id, callback, error) {\n      return this.m.Request(this.endpoint + '\/' + id + '\/modifiers', 'GET', null, callback, error);\n    };\n\n    Product.prototype.Variations = function(id, callback, error) {\n      return this.m.Request(this.endpoint + '\/' + id + '\/variations', 'GET', null, callback, error);\n    };\n\n    return Product;\n\n  })(Abstract);\n  Shipping = (function(_super) {\n    __extends(Shipping, _super);\n\n    function Shipping() {\n      return Shipping.__super__.constructor.apply(this, arguments);\n    }\n\n    Shipping.prototype.endpoint = 'shipping';\n\n    return Shipping;\n\n  })(Abstract);\n  Tax = (function(_super) {\n    __extends(Tax, _super);\n\n    function Tax() {\n      return Tax.__super__.constructor.apply(this, arguments);\n    }\n\n    Tax.prototype.endpoint = 'taxes';\n\n    return Tax;\n\n  })(Abstract);\n  return Moltin;\n\n})();\n\n\/\/# sourceMappingURL=moltin.js.map\n","link":"https:\/\/cdnjs.cloudflare.com\/ajax\/libs\/camanjs\/4.1.2\/caman.full.js"}},"css":[]},"scripts":{"AQa6pMCjAb":"(function(){\n    'use strict';\n    var footer = formelo.require('footer');\n    var config = formelo.require('config');\n    var Helpers = formelo.require('Helpers');\n    var MoltinManager = formelo.require('MoltinManager');\n    var UserManager = formelo.require('UserManager');\n\n\n    formelo.event().onCreate(function(){\n            \/\/ Entry point of this application\n        \/\/UserManager.init(function(){\n            footer.build('home');\n            customise();\n            MoltinManager.authenticate(function(aa){\n                MoltinManager.access_token = aa.access_token;\n                showCategories();\n                if (config.isAdmin){\n                    showAddButton();\n                }\n            });\n        \/\/});\n    });\n    formelo.event().onResult(function(){\n        \/\/var waiting = showWaiting('#homeContainer');\n        showCategories();\n    });\n    formelo.event().onIntent(function(params){\n        var data = params.detail;\n        \/\/ Receive parameters from calling page\n    });\n    formelo.event().onClose(function(){\n        \/\/ Override close button\n        \/\/ formelo.navigation.stopPropagation()\n        overrideBackButton();\n    });\n\n    function overrideBackButton(){\n        formelo.navigation().stopPropagation();\n        formelo.close();\n    }\n    var showAddButton = function(){\n        var data = [{\n            'name' : 'Add',\n            'unique' : 'add'\n        }];\n        formelo.ui().actionBars(data, function(unique){\n            \/\/ Open create product page\n            formelo.navigation().openActivity('create-category', { mode : 'create'});\n        });\n    };\n    function customise(){\n        formelo.html().get.header.title().html(config.store.name);\n    }\n    function bareList(data, placeHolder, callback) {\n            var defaults = {\n                'icon' : '',\n                'text' : '',\n                'colour' :  '#2980b9',\n                'unique' : null\n            };\n            if (!data || !data.length){\n                return false;\n            }\n            var html = '';\n            var i = 1;\n            data.forEach(function(item){\n                var newDefault = $.extend({}, defaults, item);\n                html += '<div unique=\"'+item.unique+'\" class=\"row holder-clickable-item\" style=\"height: 20vh;background-color: '+newDefault.colour+';\">'+\n                    '<div class=\"col-xs-2\" style=\"\">'+\n                    '<p style=\"margin-top: 40%; color: white;font-weight: 400; text-align: center;\">'+i+'<\/p>'+\n                    '<\/div>'+\n                    '<div class=\"col-xs-10\">'+\n                    '<p style=\"font-size: xx-large ;font-weight: 400;color: white;text-align: center;line-height: 20vh;margin-left: -20%;\">'+newDefault.text+'<\/p>'+\n                    '<\/div>'+\n                    '<\/div>';\n                i++;\n            });\n            $(placeHolder).html(html);\n            $('.holder-clickable-item').click(function(){\n                callback($(this).attr('unique'));\n            });\n    }\n    function showCategories () {\n        var waiting = Helpers.showWaiting('#homeContainer');\n        MoltinManager.categories.getAll(function(data){\n            \/\/ Parse data\n\n            if (!data.length){\n                return waiting.error('Empty', 'No Categories available');\n            }\n            waiting.stop();\n            var colours = [\n                '#f1c40f', '#e74c3c', '#3498db', '#1abc9c'\n            ];\n            var _data = [];\n            var q = 0;\n            data.forEach(function(item){\n                _data.push({\n                    'text' : item.title,\n                    'colour' : colours[q],\n                    'unique' : item.id\n                });\n                q = q == 3 ? 0 : q + 1;\n            });\n            bareList(_data, '#homeContainer', function(unique){\n                formelo.navigation().openActivity('details', {categoryID : unique});\n            });\n        }, function(err){\n            alert(JSON.stringify(err));\n        });\n    }\n}());","FjWHR3tjhb":"(function(){\n    'use strict';\n    var categoryID = null;\n    var footer = formelo.require('footer');\n    var MoltinManager = formelo.require('MoltinManager');\n    var Helpers = formelo.require('Helpers');\n    var config = formelo.require('config');\n\n    formelo.event().onCreate(function(){\n        \/\/ Entry point of this application\n        footer.build('home');\n        customise();\n        if (config.isAdmin){\n            showAddButton();\n        }\n        Helpers.showWaiting('#details-placeholder');\n        showItemsInCategory(categoryID);\n    });\n    formelo.event().onResult(function(){\n        Helpers.showWaiting('#details-placeholder');\n        showItemsInCategory(categoryID);\n    });\n    formelo.event().onIntent(function(params){\n        \/\/ Receive parameters from calling page\n        categoryID = params.detail['categoryID'];\n    });\n    formelo.event().onClose(function(){\n        \/\/ Override close button\n        \/\/ formelo.navigation.stopPropagation()\n    });\n\n    var showAddButton = function(){\n        var data = [{\n             'name' : 'Add',\n             'unique' : 'add'\n        }];\n        formelo.ui().actionBars(data, function(unique){\n            \/\/ Open create product page\n            formelo.navigation().openActivity('product-create', {categoryID : categoryID, mode : 'create'});\n        });\n    };\n    var showEmptyState = function(placeholder, title, message){\n        var previousHtml = $(placeholder).html();\n        var title  = title || 'Empty';\n        var message  = message || 'Nothing Here';\n        var loadingHtml =   '<div class=\"container-xs-height full-vh\">' +\n            '<div class=\"row-xs-height\">'+\n            '<div class=\"col-xs-height col-middle\">'+\n            '<div class=\"error-container text-center\">'+\n            '<h1 class=\"error-number\" style=\"color: grey;\">'+title+'<\/h1>'+\n            '<h3 style=\"color: grey;\">'+message+'<\/h3>'+\n            '<\/div>'+\n            '<\/div>'+\n            '<\/div>'+\n            '<\/div>';\n        $(placeholder).html(loadingHtml);\n    };\n    var customise = function(){\n        formelo.html().get.header.title().html(\"Product List\");\n    };\n    var showItemsInCategory = function(id){\n        MoltinManager.products.getProductsByCategory(id, function(data){\n            var _data = [];\n            if (!data.length){\n                return showEmptyState('#details-placeholder');\n            }\n            data.forEach(function(item){\n                _data.push({\n                    'name' : item.title,\n                    'description' : item.price.value,\n                    'image' : (item.images[0] && item.images[0].url && item.images[0].url.https) ? item.images[0].url.https : 'https:\/\/s-media-cache-ak0.pinimg.com\/236x\/fc\/7e\/ce\/fc7ece8e8ee1f5db97577a4622f33975.jpg',\n                    'unique' : item.id\n                });\n            });\n            formelo.ui().gridAdapter(_data, '#details-placeholder').attach(function(unique){\n                showDescription(unique);\n            })\n        }, function(error){\n            console.log(error);\n        });\n    };\n    var showDescription = function(unique) {\n        formelo.navigation().openActivity('description', {productID : unique});\n    };\n}());","67kf9vxs1J":"(function(){\n    'use strict';\n    var productID = null;\n\n    var MoltinManager = formelo.require('MoltinManager');\n    var UserManager = formelo.require('UserManager');\n    var Helpers = formelo.require('Helpers');\n    var config = formelo.require('config');\n\n    formelo.event().onCreate(function(){\n        \/\/ Entry point of this application\n        resetProductDescription();\n        getProductDescription(productID);\n        customise();\n    });\n    formelo.event().onIntent(function(params){\n        \/\/ Receive parameters from calling page\n        productID = params.detail['productID'];\n    });\n    formelo.event().onClose(function(){\n        \/\/ Override close button\n        \/\/ formelo.navigation.stopPropagation()\n    });\n\n    function customise(){\n        formelo.html().get.header.title().html(\"Product Description\");\n    }\n    function isProductInCart(productID){\n        UserManager.showRegistration(function(userData){\n            console.log('Fetching '+productID+ ' in cart '+userData.id);\n            MoltinManager.cart.isProductInCart(productID, userData.id, function(data){\n                console.log(JSON.stringify(data));\n                if (data.in_cart){\n                    showAddedToCartButton(userData.id);\n                } else {\n                    showAddToCartButton();\n                }\n            }, function(err){\n                console.log(err);\n            });\n        }, function(err){\n            console.log(err);\n        });\n    }\n    function showAddedToCartButton(id) {\n        var data = [\n            {\n                'icon' : 'fa fa-check',\n                'text' : 'Already in Cart',\n                'unique' : id\n            }\n        ];\n        formelo.ui().footer(data, function(unique){\n            console.log('Removing '+productID+ ' from cart '+unique);\n            MoltinManager.cart.deleteItemFromCart(productID, unique, function(data){\n                console.log(data);\n                formelo.navigation().result();\n            }, function(err){\n                console.error(err);\n            });\n        });\n    }\n    function showAddToCartButton() {\n        var data = [\n            {\n                'icon' : 'fa fa-shopping-cart',\n                'text' : 'Add to Cart',\n                'unique' : productID\n            }\n        ];\n        formelo.ui().footer(data, function(data){\n                if (config.inProductionMode()){\n                    formelo.ui().spinner.show();\n                }\n                UserManager.showRegistration(function(data){\n                    MoltinManager.cart.addToCart(data.id, productID, 1, function(data){\n                        if (config.inProductionMode()){\n                            formelo.ui().spinner.hide();\n                            showMessage('Added to Cart.');\n                        }\n                        console.log('Added');\n                        console.log(data);\n                        \/\/formelo.navigation().result();\n                    }, function(err){\n                        console.error('[Add To Cart]' + JSON.stringify(err));\n                    });\n                }, function(err){\n                    if (config.inProductionMode()){\n                        formelo.ui().spinner.hide();\n                    }\n                    console.error(err);\n                });\n        });\n    }\n    function resetProductDescription(){\n        $('#description_image').attr('src', 'img\/loading.png');\n        $('#description_name').html('Please wait');\n        $('#description_description').html('Loading Product details');\n    }\n    function showProductDescription(data) {\n        var defaultImg = \"https:\/\/s-media-cache-ak0.pinimg.com\/736x\/63\/8b\/cd\/638bcd252d51340cb0d645adbf19eac3.jpg\";\n        $('#description_name').html(data.title);\n        $('#description_description').html(data.description);\n        $('#description_image').attr('src', (data && data.images && data.images.length && data.images[0].url) ? data.images[0].url.https : defaultImg);\n    }\n    function getProductDescription(id){\n        var waiting = Helpers.showWaiting('#description-placeholder');\n        MoltinManager.products.getProductByID(id, function(data){\n            waiting.stop();\n            showProductDescription(data);\n            showAddToCartButton();\n        }, function(err){\n            waiting.error('Error', 'Could not fetch details');\n            alert(JSON.stringify(err));\n        })\n    }\n}());","sCADI0pkjZ":"(function(){\n    'use strict';\n    var MoltinManager = formelo.require('MoltinManager');\n    var UserManager = formelo.require('UserManager');\n    var footer = formelo.require('footer');\n    var Helpers = formelo.require('Helpers');\n    var config = formelo.require('config');\n\n    var customerID = null;\n    var customerData = null;\n    var billingData = null;\n\n    formelo.event().onCreate(function(){\n        \/\/ Entry point of this application\n        footer.build('cart');\n        Helpers.showWaiting('#cart-placeholder');\n        showItemsInCart();\n        customise();\n    });\n    formelo.event().onIntent(function(params){\n        var data = params.detail;\n        \/\/ Receive parameters from calling page\n    });\n    formelo.event().onClose(function(){\n        \/\/ Override close button\n        \/\/ formelo.navigation.stopPropagation()\n        \/\/overrideBackButton();\n    });\n    formelo.event().onResult(function(data){\n        if (data && data.mode == 'billing'){\n            billingData = data.data;\n            checkout();\n        } else {\n            Helpers.showWaiting('#cart-placeholder');\n            showItemsInCart();\n        }\n    });\n\n    function showCartSummary(cartSummary){\n        var totalAmount = cartSummary.totals.post_discount.formatted.without_tax;\n        var html = '<div class=\"row\" style=\"height: 20vh;background-color: cornflowerblue;\">'+\n                        '<div class=\"col-xs-6\" style=\"color:white;text-align:center;height: 100%;\">'+\n                            '<p style=\"font-size: x-large;line-height: 20vh;\">Total<\/p>'+\n                        '<\/div>'+\n                        '<div class=\"col-xs-6\" style=\"color:white;text-align:center;line-height:100%;height: inherit;\">'+\n                            '<p style=\"font-size: x-large;line-height: 20vh;\" id=\"total_amount\">'+totalAmount+'<\/p>'+\n                        '<\/div>'+\n                    '<\/div>';\n        $('#cart-summary').html(html);\n    }\n    function showCheckoutButton(unique) {\n        var data = [\n            {\n                'icon' : 'fa fa-shopping-cart',\n                'text' : 'Checkout',\n                'unique' : 'checkout'\n            }\n        ];\n        formelo.ui().footer(data, function(data){\n            if (billingData == null) {\n                \/\/ Fetch billing Addresses\n                if (config.inProductionMode()){\n                    showMessage('Loading Addresses');\n                    formelo.ui().spinner.show();\n                }\n                MoltinManager.customers.getAddressForCustomer(customerID, function(data){\n                    console.log(data);\n                    if (config.inProductionMode()){\n                        showMessage('Loading Addresses');\n                        formelo.ui().spinner.hide();\n                    }\n                    if (!data.length){\n                        showMessage('No shipping address found.');\n                        formelo.navigation().openActivity('billing', {customerData : customerData, customerID : customerID});\n                    } else {\n                        formelo.navigation().openActivity('billing', {customerData : customerData, customerID : customerID});\n                    }\n                }, function(err){\n                    if (config.inProductionMode()){\n                        formelo.ui().spinner.hide();\n                    }\n                    console.error(err);\n                });\n            } else {\n                checkout();\n            }\n        });\n    }\n    function checkout(){\n        if (billingData === null) {\n            billingData['first_name'] = customerData['name'];\n            billingData['lastname_name'] = customerData['name'];\n            console.log('Checking out that ass...');\n            MoltinManager.cart.checkout(customerID, billingData, function (data) {\n                console.log('Ass checked out ' + data);\n                showItemsInCart();\n            }, function(err){\n                console.log('An error occured '+err);\n            })\n        }\n    }\n    function customise(){\n        formelo.html().get.header.title().html(\"My Cart\");\n    }\n    function showItemsInCart(){\n        $('#cart-summary').html(\"\");\n        UserManager.showRegistration(function(data){\n            customerID = data.id;\n            customerData = data;\n            MoltinManager.cart.getItemsInCart(data.id, function(data){\n                console.log(JSON.stringify(data));\n                populateCheckout(data);\n            }, function(err){\n                console.error(JSON.stringify(err));\n                Helpers.showEmptyState('#cart-placeholder', 'Error', 'An error occured. Please try again.');\n            });\n        }, function(err){\n            console.error(err);\n            Helpers.showEmptyState('#cart-placeholder', 'Error', 'User not found.');\n        });\n    }\n    function populateCheckout(cartData){\n        var data = cartData.contents;\n        var _data = [];\n        var isEmpty = true;\n        for(var key in data){\n            if (data[key]) {\n                var item = data[key];\n                isEmpty = false;\n                _data.push({\n                    'name' : item.title,\n                    'description' : item.price.value,\n                    'image' : (item.images[0] && item.images[0].url && item.images[0].url.https) ? item.images[0].url.https : 'https:\/\/s-media-cache-ak0.pinimg.com\/236x\/fc\/7e\/ce\/fc7ece8e8ee1f5db97577a4622f33975.jpg',\n                    'unique' : item.id\n                });\n            }\n        }\n        if (isEmpty){\n            return Helpers.showEmptyState('#cart-placeholder', 'Empty', 'No Items in cart yet');\n        } else {\n            formelo.ui().gridAdapter(_data, '#cart-placeholder').attach(function(unique){\n                if (config.inProductionMode()){\n                    formelo.ui().showNativeOptions('Options', 'What would you want to do?', ['View Item', 'Remove from Cart'], function(index){\n                        if (index == 1){\n                            showDescription(unique);\n                        } else {\n                            removeFromCart(unique);\n                        }\n                    })\n                } else {\n                    if (window.confirm('Remove from cart')){\n                        showDescription(unique);\n                    } else {\n                        removeFromCart(unique);\n                    }\n                }\n            });\n            showCartSummary(cartData);\n            showCheckoutButton();\n        }\n    }\n    function showDescription(unique) {\n        formelo.navigation().openActivity('description', {productID : unique});\n    }\n    function removeFromCart(unique){\n        console.log('Removing '+unique+' from '+customerID);\n        if (config.inProductionMode()){\n            formelo.ui().spinner.show();\n        }\n        MoltinManager.cart.removeFromCart(customerID, unique, function(data){\n            if (config.inProductionMode()){\n                formelo.ui().spinner.hide();\n                showMessage(\"Removed\");\n            }\n            showItemsInCart();\n        }, function(err){\n            if (config.inProductionMode()){\n                formelo.ui().spinner.hide();\n                showMessage(\"An Error occured\");\n            }\n            console.error(err);\n        });\n    }\n}());","wYjsGbwavO":"(function(){\n    'use strict';\n    var footer = formelo.require('footer');\n    var Helpers = formelo.require('Helpers');\n\n    formelo.event().onCreate(function(){\n        \/\/ Entry point of this application\n        footer.build('deals');\n        customise();\n        Helpers.showWaiting('#deals-placeholder').error('No Deals', 'Kindly check again later');\n    });\n\n    formelo.event().onIntent(function(params){\n        var data = params.detail;\n        \/\/ Receive parameters from calling page\n    });\n\n    formelo.event().onClose(function(){\n        \/\/ Override close button\n        \/\/ formelo.navigation.stopPropagation()\n        overrideBackButton();\n    });\n\n    function customise(){\n        formelo.html().get.header.title().html(\"Today's Deals\");\n    }\n    function fetchItems(id) {\n        var txDeferred = $.Deferred();\n        var data = [\n            {\n                name : 'Cindy Materials',\n                description : 'Al the funky eye glasses you need',\n                time : '$10.99',\n                image : 'http:\/\/previews.123rf.com\/images\/nito500\/nito5001106\/nito500110600004\/9712978-black-glasses-on-a-white-background-Stock-Photo-eyeglasses-glasses-hipster.jpg',\n                unique: 'sdsds'\n            },\n            {\n                name : 'Cindy Materials',\n                description : 'Al the funky eye glasses you need',\n                time : '$61.99',\n                image : 'http:\/\/previews.123rf.com\/images\/nito500\/nito5001106\/nito500110600004\/9712978-black-glasses-on-a-white-background-Stock-Photo-eyeglasses-glasses-hipster.jpg',\n                unique: 'dsd'\n            },\n            {\n                name : 'Cindy Materials',\n                description : 'Al the funky eye glasses you need',\n                time : '$6.23',\n                image : 'http:\/\/previews.123rf.com\/images\/nito500\/nito5001106\/nito500110600004\/9712978-black-glasses-on-a-white-background-Stock-Photo-eyeglasses-glasses-hipster.jpg',\n                unique: 'ssd'\n            },\n            {\n                name : 'Cindy Materials',\n                description : 'Al the funky eye glasses you need',\n                time : '$1.99',\n                image : 'http:\/\/previews.123rf.com\/images\/nito500\/nito5001106\/nito500110600004\/9712978-black-glasses-on-a-white-background-Stock-Photo-eyeglasses-glasses-hipster.jpg',\n                unique: 'dsds'\n            },{\n                name : 'Cindy Materials',\n                description : 'Al the funky eye glasses you need',\n                time : '$7.42',\n                image : 'http:\/\/previews.123rf.com\/images\/nito500\/nito5001106\/nito500110600004\/9712978-black-glasses-on-a-white-background-Stock-Photo-eyeglasses-glasses-hipster.jpg',\n                unique: 'cinde'\n            }\n        ];\n        txDeferred.resolve(data);\n        return txDeferred.promise();\n    }\n    function showDealsItems(id){\n        \/\/ Show loading\n        $.when(fetchItems())\n            .done(function(data){\n                formelo.ui().gridAdapter(data, '#deals-placeholder').attach(function(unique){\n                    showDescription(unique);\n                })\n            })\n    }\n    function showDescription(unique) {\n        formelo.navigation().openActivity('description', {id : unique});\n    }\n    function overrideBackButton(){\n        formelo.navigation().stopPropagation();\n        formelo.close();\n    }\n}());","mBWGR5boxd":"(function(){\n    'use strict';\n    var MoltinManager = formelo.require('MoltinManager');\n    var Helpers = formelo.require('Helpers');\n    var mode = 'create';\n    var categoryID = null;\n    var productID = null;\n\n    formelo.event().onCreate(function(){\n        \/\/ Entry point of this application\n        customise();\n        showSaveButton();\n    });\n\n    formelo.event().onIntent(function(params){\n        \/\/ Receive parameters from calling page\n        categoryID = params.detail['categoryID'];\n        productID = params.detail['productID'];\n        mode = params.detail['mode'];\n    });\n\n    formelo.event().onClose(function(){\n        \/\/ Override close button\n        \/\/ formelo.navigation.stopPropagation()\n    });\n\n    function showSaveButton(){\n        var data = [{\n            'name' : mode == 'create' ? \"Save\" : \"Update\",\n            'unique' : mode\n        }];\n        formelo.ui().actionBars(data, function(unique){\n             if (unique == 'create'){\n                 submit();\n             } else {\n                 \/\/ TODO Update Product\n             }\n        });\n    };\n    function customise(){\n        formelo.html().get.header.title().html(mode == 'create' ? 'Add' : 'Update'+ \" Product\");\n    }\n    function getValues(){\n        var title = $('#product_title').val();\n        var description = $('#product_description').val();\n        var price = $('#product_price').val();\n        var sku = $('#product_sku').val();\n        var stock_level = $('#product_stock_level').val();\n        if (!(title && description &&\n            price && sku && stock_level))\n        {\n            throw new Error('Kindly check your form and try again');\n        }\n        var stock_status = 1;\n        var slug = title.trim().toLowerCase()+'_'+Helpers.str_random();\n        var status = 1;\n        var category = categoryID;\n        var requires_shipping = 1;\n        var tax_band = \"1359674746093961681\";\n        var catalog_only = 0;\n        return  {\n            title : title,\n            description : description,\n            price : price,\n            sku : sku,\n            stock_level : stock_level,\n            stock_status : stock_status,\n            slug : slug,\n            status : status,\n            category : category,\n            requires_shipping : requires_shipping,\n            tax_band : tax_band,\n            catalog_only : catalog_only\n        };\n    }\n    function submit(){\n        try {\n            var data = getValues();\n            console.log(data);\n            MoltinManager.products.create(data, function(data){\n                alert(JSON.stringify(data));\n                formelo.navigation().result();\n            }, function(err){\n                alert(JSON.stringify(err));\n            });\n        } catch (e) {\n            alert(e.message);\n        }\n    }\n}());","80QIDyI3T2":"(function(){\n    'use strict';\n    var MoltinManager = formelo.require('MoltinManager');\n    var categoryID = null;\n    var mode = 'create';\n    formelo.event().onCreate(function(){\n        \/\/ Entry point of this application\n        customise();\n        showSaveButton();\n    });\n\n    formelo.event().onIntent(function(params){\n        var data = params.detail;\n        categoryID = params.detail['categoryID'];\n        \/\/ Receive parameters from calling page\n    });\n\n    formelo.event().onClose(function(){\n        \/\/ Override close button\n        \/\/ formelo.navigation.stopPropagation()\n    });\n    function showSaveButton(){\n        var data = [{\n            'name' : mode == 'create' ? \"Save\" : \"Update\",\n            'unique' : mode\n        }];\n        formelo.ui().actionBars(data, function(unique){\n            if (unique == 'create'){\n                submit();\n            } else {\n                \/\/ TODO Update Product\n            }\n        });\n    };\n    function customise(){\n        formelo.html().get.header.title().html(mode == 'create' ? 'Add Category' : 'Update Category');\n    }\n    function getValues(){\n        var title = $('#category_title').val();\n        var description = $('#category_description').val();\n        if (!(title && description)) {\n            throw new Error('Kindly check your form and try again');\n        }\n        var slug = title.trim().toLowerCase();\n        var status = 1;\n        return  {\n            title : title,\n            description : title,\n            slug : slug,\n            status : status\n        };\n    }\n    function submit(){\n        try {\n            var data = getValues();\n            console.log(data);\n            MoltinManager.categories.create(data, function(data){\n                \/\/alert(JSON.stringify(data));\n                formelo.navigation().result();\n            }, function(err){\n                alert(JSON.stringify(err));\n            });\n        } catch (e) {\n            alert(e.message);\n        }\n    }\n}());","3q1mSHypR3":"(function(){\n    'use strict';\n    var config = formelo.require('config');\n    var footer = formelo.require('footer');\n\n    formelo.event().onCreate(function(){\n        \/\/ Entry point of this application\n        footer.build('settings');\n        showSetupCategories();\n        customise();\n    });\n\n    formelo.event().onIntent(function(params){\n        var data = params.detail;\n        \/\/ Receive parameters from calling page\n    });\n\n    formelo.event().onClose(function(){\n        \/\/ Override close button\n        \/\/ formelo.navigation.stopPropagation()\n        overrideBackButton();\n    });\n\n    function customise(){\n        formelo.html().get.header.title().html(\"Store Setup\");\n        footer.build('settings');\n    }\n    function showSetupCategories(id){\n        var data = [\n            {\n                name : 'Social Media Accounts',\n                description : 'Link your social media accounts to automatically fetch and post product',\n                image : 'https:\/\/www.seeklogo.net\/wp-content\/uploads\/2016\/05\/instagram-icon-logo-vector-download.jpg',\n                unique: 'smc'\n            },\n            {\n                name : 'Basic Store Settings',\n                description : 'Setup basic store items',\n                image : 'http:\/\/image.flaticon.com\/icons\/png\/512\/60\/60473.png',\n                unique: 'bss'\n            },\n            {\n                name : 'Orders',\n                description : 'Stats of pending store orders',\n                image : 'http:\/\/image.flaticon.com\/icons\/png\/512\/20\/20826.png',\n                unique: 'ss'\n            }\n        ];\n        formelo.ui().gridAdapter(data, '#setup-categories-placeholder').attach(function(unique){\n            if (unique == 'smc'){\n                formelo.navigation().openActivity('social-media-settings')\n            } else if (unique == 'bss') {\n                formelo.navigation().openActivity('basic-store-settings')\n            } else if (unique == 'ss'){\n                formelo.navigation().openActivity('orders');\n            }\n        })\n    }\n    function overrideBackButton(){\n        formelo.navigation().stopPropagation();\n        formelo.close();\n    }\n}());","ddF9Uwe6UM":"(function(){\n    'use strict';\n    var footer = formelo.require('footer');\n    formelo.event().onCreate(function(){\n        \/\/ Entry point of this application\n        customise();\n        footer.build('settings');\n    });\n\n    formelo.event().onIntent(function(params){\n        var data = params.detail;\n        \/\/ Receive parameters from calling page\n    });\n\n    formelo.event().onClose(function(){\n        \/\/ Override close button\n        \/\/ formelo.navigation.stopPropagation()\n    });\n    function customise(){\n        formelo.html().get.header.title().html(\"Social Media Settings\");\n    }\n}());","k2NaKqJttC":"(function(){\n    'use strict';\n    var footer = formelo.require('footer');\n    formelo.event().onCreate(function(){\n        \/\/ Entry point of this application\n        customise();\n        footer.build('settings');\n    });\n\n    formelo.event().onIntent(function(params){\n        var data = params.detail;\n        \/\/ Receive parameters from calling page\n    });\n\n    formelo.event().onClose(function(){\n        \/\/ Override close button\n        \/\/ formelo.navigation.stopPropagation()\n    });\n    function customise(){\n        formelo.html().get.header.title().html(\"Basic Settings\");\n    }\n}());","ww2xTVerk6":"(function(){\n    'use strict';\n    var MoltinManager = formelo.require('MoltinManager');\n    var Helpers = formelo.require('Helpers');\n    var footer = formelo.require('footer');\n    formelo.event().onCreate(function(){\n        \/\/ Entry point of this application\n        footer.build('settings');\n        fetchOrders();\n        customise();\n    });\n\n    formelo.event().onIntent(function(params){\n        var data = params.detail;\n        \/\/ Receive parameters from calling page\n    });\n\n    formelo.event().onClose(function(){\n        \/\/ Override close button\n        \/\/ formelo.navigation.stopPropagation()\n    });\n    function customise(){\n        formelo.html().get.header.title().html(\"My Orders\");\n    }\n    function fetchOrders (){\n        var loader = Helpers.showWaiting('#orders-placeholder');\n        MoltinManager.orders.listAllOrders(function(data){\n                console.log(data);\n                loader.stop();\n                var _data = [];\n                if (!data.length){\n                    return loader.error('Empty', 'No Orders Available yet');\n                }\n                data.forEach(function(item){\n                    var image = \"img\/bg\/\"+item.customer.value.charAt(0).toUpperCase()+\".gif\";\n                    _data.push({\n                        name : item.customer.value,\n                        description : item.currency_code + ' ' + item.total,\n                        time : item.created_at,\n                        unique : item.id,\n                        image : image\n                    });\n                });\n                formelo.ui().listAdapter(_data, '#orders-placeholder').attach(function(unique){\n                    console.log('Mark as authorized');\n                })\n            },\n        function(err){\n            console.log(err);\n            loader.error(':(', 'An Error has occured');\n        })\n    }\n}());\n\n","uykaHeGWkA":"(function(){\n    'use strict';\n    var config = formelo.require('config');\n    var MoltinManager = formelo.require('MoltinManager');\n    var customerData = null;\n    var customerID = null;\n    formelo.event().onCreate(function(){\n        \/\/ Entry point of this application\n        customise();\n        showCheckoutButton();\n    });\n\n    formelo.event().onIntent(function(params){\n        customerData = params.detail.customerData;\n        customerID = params.detail.customerID;\n        \/\/ Receive parameters from calling page\n    });\n\n    formelo.event().onClose(function(){\n        \/\/ Override close button\n        \/\/ formelo.navigation.stopPropagation()\n    });\n    function customise(){\n        formelo.html().get.header.title().html(\"Billing Address\");\n    }\n    function showSaveButton(){\n        var data = [{\n            'name' : 'Save',\n            'unique' : 'save'\n        }];\n        formelo.ui().actionBars(data, function(unique){\n            if (unique == 'save'){\n                submit();\n            }\n        });\n    }\n    function getValues(){\n        var firstname = $('#billing_firstname').val();\n        var lastname = $('#billing_lastname').val();\n        var address = $('#billing_address').val();\n        var city = $('#billing_city').val();\n        var state = $('#billing_state').val();\n        var country = $('#billing_country').val();\n        var zip = $('#billing_zip').val();\n        if (!(address && city && zip &&\n            state && country\n            && firstname && lastname\n            ))\n        {\n            throw new Error('Kindly check your form and try again');\n        }\n        return  {\n            save_as : 'Home',\n            first_name : firstname,\n            last_name : lastname,\n            address_1:  address,\n            city:       city,\n            county:     state,\n            country:    country,\n            postcode:   zip\n        };\n    }\n    function submit(){\n        try {\n            var data = getValues();\n            return checkout(customerID, data);\n            \/\/ Create address\n            console.log('Creating address for '+customerData.id);\n            MoltinManager.customers.createAddress(customerData.id, data, function(data){\n                \/\/ Add to cart\n                console.log(data);\n                checkout(customerData.id, data.result.id);\n            }, function(err){\n                console.log('Error is '+JSON.stringify(err));\n                console.log(err);\n            });\n        } catch (e){\n            if (config.inProductionMode()){\n                showMessage(e.message);\n            }\n        }\n    }\n    function showCheckoutButton(){\n        var data = [\n            {\n                'icon' : 'fa fa-shopping-cart',\n                'text' : 'Proceed to Checkout',\n                'unique' : 'checkout'\n            }\n        ];\n        formelo.ui().footer(data, function(data){\n            checkout(customerID, getValues());\n        });\n    }\n    function checkout(customerID, billingAddressID){\n            console.log('Checking out that ass...' +JSON.stringify(billingAddressID)+ ' For user '+customerID);\n            MoltinManager.cart.checkout(customerID, billingAddressID, function (data) {\n                console.log('Ass checked out ' + data);\n                formelo.navigation().result();\n            }, function(err){\n                console.log('An error occured '+err);\n            })\n    }\n}());","JECwOnWyRq":"(function(){\n    'use strict';\n    formelo.event().onCreate(function(){\n        \/\/ Entry point of this application\n    });\n\n    formelo.event().onIntent(function(params){\n        var data = params.detail;\n        \/\/ Receive parameters from calling page\n    });\n\n    formelo.event().onClose(function(){\n        \/\/ Override close button\n        \/\/ formelo.navigation.stopPropagation()\n    });\n}());","anXdUQ89it":"(function(){\n    'use strict';\n    var config = formelo.require('config');\n    var UserManager = formelo.require('UserManager');\n    var Helpers = formelo.require('Helpers');\n\n    formelo.event().onCreate(function(){\n        \/\/ Entry point of this application\n        checkIfAppletExist();\n        \/\/testSplash();\n    });\n    formelo.event().onIntent(function(params){\n        var data = params.detail;\n        \/\/ Receive parameters from calling page\n    });\n    formelo.event().onClose(function(){\n        \/\/ Override close button\n        \/\/ formelo.navigation.stopPropagation()\n    });\n\n    function checkIfAppletExist(){\n        var appletID = null;\n        if (config.inProductionMode()){\n            appletID = formelo.mAppletID;\n            \/\/showMessage(formelo.mAppletID);\n        } else {\n            appletID = 'dac0d9a0';\n        }\n        var waiting = Helpers.showWaiting('#splash-placeholder');\n        config.isAppletExist(appletID, function(data){\n            console.log(data);\n            waiting.stop();\n            if (data.applet === null){\n                if (!config.inProductionMode()){\n                    return formelo.navigation().openActivity('registration', {userID : 'ddasasasasas'});\n                }\n                if (!config.inPrivateMode()){\n                    return waiting.error('Coming Soon', 'This Store will open very soon. Watch this space')\n                }\n                UserManager.showRegistration(function(data){\n                    formelo.navigation().openActivity('registration', {userID : data.id});\n                }, function(){\n                    formelo.close();\n                });\n            } else {\n                console.log(JSON.stringify(data));\n                config.keys.clientID = data.settings.client_id;\n                config.keys.clientSecret = data.settings.client_secret;\n                config.store.name = data.settings.store_name;\n                if (!config.inProductionMode()){\n                    config.isAdmin = 'ddasasasasas' == data.applet.admin_id;\n                    formelo.navigation().openActivity('home');\n                } else {\n                    config.isAdmin = false; \/\/= userData.id == data.applet.admin_id;\n                    formelo.navigation().openActivity('home');\n                    \/*UserManager.showRegistration(function(userData){\n                        config.isAdmin = userData.id == data.applet.admin_id;\n                        formelo.navigation().openActivity('home');\n                    }, function(err){\n                        console.error(err);\n                        formelo.close();\n                    });*\/\n                }\n            }\n        }, function(err){\n            waiting.error(':(', 'Please Try again later');\n            console.error(err);\n        });\n    }\n\n    function testSplash(){\n        var mod = openModal('Choose an Option', '<div id = \"options\"><\/div>');\n        var data = [{\n            name: 'Settings',\n            description: '',\n            time: '',\n            image: 'http:\/\/img4.cliparto.com\/pic\/s\/196419\/4510978-flat-icon-pictogram-eps-10.jpg',\n            unique: 'uniq'\n        },  {\n            name: 'More',\n            description: '',\n            time: '',\n            image: 'http:\/\/img4.cliparto.com\/pic\/s\/196419\/4510978-flat-icon-pictogram-eps-10.jpg',\n            unique: 'aa'\n        }]\n        optionsAdapter(data, '#options').attach(function(unique){\n            alert(unique);\n            mod.close();\n        })\n    }\n}());","fN1zXINDF8":"(function(){\n    'use strict';\n    var Helpers = formelo.require('Helpers');\n    var UserManager = formelo.require('UserManager');\n    var config = formelo.require('config');\n\n    var userID = null;\n\n    formelo.event().onCreate(function(){\n        \/\/ Entry point of this application\n        customise();\n        showSaveButton();\n    });\n    formelo.event().onIntent(function(params){\n        userID = params.detail.userID;\n    });\n    formelo.event().onClose(function(){\n        \/\/ Override close button\n        \/\/ formelo.navigation.stopPropagation()\n    });\n\n    function showSaveButton(){\n        var data = [{\n            'icon' : 'fa fa-money',\n            'text' : 'Complete Registration',\n            'link' : null,\n            'active' :  false,\n            'unique' : 'complete'\n        }];\n        formelo.ui().footer(data, function(unique){\n             submit();\n        });\n    }\n    function customise(){\n        formelo.html().get.header.title().html('Setup Your Store');\n    }\n    function getValues(){\n        var appletID = null;\n        if (config.inProductionMode()){\n            appletID = formelo.mAppletID;\n        } else {\n            appletID = 'dac0d9a0';\n        }\n        var client_id = $('#register_client_id').val();\n        var client_secret = $('#register_client_secret').val();\n        var store_name = $('#register_title').val();\n        if (!(client_id && client_secret &&store_name)){\n            throw new Error('Kindly check your form and try again');\n        }\n        return  {\n            client_id : client_id,\n            applet_id : appletID,\n            admin_id : userID,\n            client_secret : client_secret,\n            store_name : store_name\n        };\n    }\n    function submit(){\n        try {\n            var data = getValues();\n            console.log('Posting '+JSON.stringify(data));\n            config.registerApplet(data, function(data){\n                console.log(data);\n                \/\/ Set config values\n                config.keys.clientID = data.settings.client_id;\n                config.keys.clientSecret = data.settings.client_secret;\n                \/\/ Navigate to home page\n                formelo.navigation().openActivity('home');\n            }, function(err){\n                console.error(err);\n            })\n        } catch (e) {\n            alert(e.message);\n        }\n    }\n}());"}}